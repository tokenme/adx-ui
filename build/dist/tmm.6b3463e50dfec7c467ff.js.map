{"version":3,"sources":["webpack:///tmm.6b3463e50dfec7c467ff.js","webpack:///webpack/bootstrap 2586d2a55ab521de3158","webpack:///./node_modules/adlibs/lib/canHas.js","webpack:///./src/tmm.js","webpack:///./node_modules/adlibs/lib/detect/browser.js","webpack:///./node_modules/adlibs/lib/detect/environment.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","135","can","obj","propertyName","has","globalObjectName","scope","window","own","run","methodName","defaultRunnable","runnable","forIn","callback","keys","TypeError","split","303","guid","s4","Math","floor","random","toString","substring","wrap","uid","document","write","genifr","tmmId","w","h","ifr","createElement","width","height","scrolling","frameBorder","marginHeight","marginWidth","getElementById","appendChild","os","browser","browserType","tablet","mobile","desktop","console","link","encodeURIComponent","location","referrer","environment","screen_h","screen_w","ad_w","ad_h","version","htm","ifrdom","contentWindow","open","close","detect","ready","tmm_id","tmm_width","tmm_height","304","kindleBrowser","results","map","MAX","EXCEED","OK","TYPE","MICROSOFT","FIREFOX","CHROME","OPERA","SAFARI","ANDROID","SAFARI_MOBILE","OPERA_MINI","OPERA_ANDROID","CHROME_MOBILE","MICROSOFT_MOBILE","FIREFOX_MOBILE","BLACKBERRY","KINDLE","WEBVIEW","UNKNOWN","UNKNOWN_MOBILE","Ua","this","Feature","Engine","Os","DEFAULT_VERSION","Browser","self","trustworthy","max","ua","feature","engine","mathMLSupport","hasMathML","createElementNS","mfrac","NAMESPACE","div","style","position","top","left","visibility","fontFamily","lineheight","createTextNode","body","offsetHeight","offsetWidth","isMobile","win","createEvent","e","save","result","push","length","getVersion","uaVersion","minVersion","maxVersion","actualVersion","looksLike","regex","test","parseIntIfMatch","radix","match","parseInt","parseFloatIfMatch","parseFloat","getAndroidVersion","nav","navigator","Infinity","getChromiumVersion","Image","getGeckoVersion","getTridentVersion","getTridentEngineVersion","ver","engineVersion","getSafariVersion","getKindleVersion","getOtherOS","otherBrowser","platform","getAppleOS","mac","iOS","appleBrowser","iOSVersion","macVersion","replace","getMicrosoftOS","microsoftBrowser","pcVersion","getAndroidOS","androidBrowser","getKindleOS","verison","getOsFromUa","userAgent","detectedBrowser","documentElement","opera","TRUSTWORTHY","BROWSER_NAME","BROWSER_VERSION","ENGINE_NAME","ENGINE_VERSION","OS_NAME","OS_VERSION","DESKTOP","MOBILE","TABLET","CONSOLE","isIE","isFF","isOpera","isChrome","isSafari","read","key","details","mathMLSupports","305","doc","getFramePosition","pos","parent","frames","getFrameDepth","myWin","depth","versionMatch","checkPlugin","plugin","description","getFlashVersion","pluginVersion","deviceWidth","pixelDensity","zoomRatio","parent_ads","PARENT_ADS","ad_order","ex","ad_depth","AD_ORDER","AD_DEPTH","screen","deviceXDPI","logicalXDPI","toFixed","innerHeight","abs","orientation","innerWidth","outerWidth","isFinite","zoom_ratio","pixel_density","ZOOM_RATIO","PIXEL_DENSITY","avail_w","avail_h","flash","dnt","doNotTrack","msDoNotTrack","doc_mode","SCREEN_W","SCREEN_H","AVAIL_W","AVAIL_H","AD_W","AD_H","FLASH","DNT","DOC_MODE","getAvailableScreenSize","getScreenSize","getAdDocSize"],"mappings":"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","file":"tmm.6b3463e50dfec7c467ff.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 303);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @module canHas\n */\n\n\n\n/**\n * @desc Can this object use this property?\n * @static\n * @param obj\n * @param propertyName\n * @returns {Boolean}\n * @example\n * ```js\n * var can = require('adlibs/lib/canHas').can;\n * ```\n */\nvar can = function (obj, propertyName) {\n\treturn typeof obj[propertyName] !== 'undefined';\n};\n\n/**\n * @desc Does this window have this object in it?\n * @static\n * @param globalObjectName\n * @param [scope] Alternatively, you can call \"run\" with a more sane method signature.\n * @returns {*}\n * @example\n * ```js\n * var has = require('adlibs/lib/canHas').has;\n * ```\n */\nvar has = function (globalObjectName, scope) {\n\tscope = scope || window;\n\treturn can(scope, globalObjectName) ? scope[globalObjectName] : false;\n};\n\n/**\n * @desc Check to see if this object owns the method as opposed to just inheriting it from another object.\n * @static\n * @param obj\n * @param propertyName\n * @returns {Boolean}\n */\nvar own = function (obj, propertyName) {\n\treturn obj.hasOwnProperty(propertyName);\n};\n\n/**\n * @desc Return a runnable method by default.\n * @static\n * @param obj - Scope to use, or method to run when not providing a method as the second param.\n * @param [methodName] The method to check for.\n * @returns {Function}\n */\nvar run = function (obj, methodName) {\n\tvar defaultRunnable = function () { return false;},\n\t\trunnable = methodName ? obj[methodName] : window[obj];\n\n\treturn typeof runnable === 'function' ? runnable : defaultRunnable;\n};\n\n/**\n * @desc For each in, shorthanded because manually writing hasOwnProperty each and every time is not a good use of time.\n * @static\n * @param obj\n * @param callback\n */\nvar forIn = function (obj, callback) {\n\tvar property;\n\tfor (property in obj) {\n\t\tif (obj.hasOwnProperty(property)) {\n\t\t\tif (callback(property, obj[property]) === false) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * @desc A substitute for Object.keys for when browsers don't attempt to convert non-objects to arrays\n * @static\n * @param obj\n * @returns {*}\n */\nvar keys = function (obj){\n\tif (obj) {\n\t\tswitch (typeof obj){\n\t\t\tcase 'object':\n\t\t\t\treturn Object.keys(obj);\n\t\t\tcase 'string':\n\t\t\t\treturn obj.split('');\n\t\t\tdefault:\n\t\t\t\treturn [];\n\t\t}\n\t} else {\n\t\tthrow new TypeError('Cannot convert null or undefined to object');\n\t}\n\n};\n\nmodule.exports = {\n\tcan: can,\n\thas: has,\n\trun: run,\n\town: own,\n\tforIn: forIn,\n\tkeys: keys\n};\n\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n(function () {\n  var browser = __webpack_require__(304).detect();\n  var environment = __webpack_require__(305).detect();\n  function init(tmmId, w, h) {\n    var uid = guid();\n    wrap(uid);\n    genifr(uid, tmmId, w, h);\n  }\n  function guid() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n  function wrap(uid) {\n    document.write('<div id=\"' + uid + '\"></div>');\n  }\n  function genifr(uid, tmmId, w, h) {\n    var ifr = document.createElement('iframe');\n    ifr.width = w;\n    ifr.height = h;\n    ifr.scrolling = 'no';\n    ifr.frameBorder = 0;\n    ifr.marginHeight = 0;\n    ifr.marginWidth = 0;\n    var wrapper = document.getElementById(uid);\n    wrapper.appendChild(ifr);\n    var os = browser.os;\n    var browserType = 0;\n    if (browser.tablet) {\n      browserType = 3;\n    } else if (browser.mobile) {\n      browserType = 2;\n    } else if (browser.desktop) {\n      browserType = 1;\n    } else if (browser.console) {\n      browserType = 4;\n    }\n    var link = 'https://adx.tokenmama.io/c?a=' + encodeURIComponent(tmmId) + '&url=' + encodeURIComponent(window.location) + '&referrer=' + encodeURIComponent(document.referrer) + '&sw=' + environment.screen_h + '&sh=' + environment.screen_w + '&adw=' + environment.ad_w + '&adh=' + environment.ad_h + '&os_name=' + os.name + '&os_ver=' + os.version + '&bw_name=' + browser.name + '&bw_ver=' + browser.version + '&bw_type=' + browserType;\n    var htm = '<body><style>*{margin:0;padding:0}.imp{width:1px;height:1px;display:absolute;top:-1px;;left:-1px;}.img{width:100%;height:100%}.logo{position:absolute;bottom:0;right:-4px;z-index:10000;}a img{width:20px;height16px;}a:hover.logo{right:0}</style><a href=\"https://adx.tokenmama.io\" target=\"_blank\" class=\"logo\"><img src=\"https://tmm-adx.tianxi100.com/img/logo/ad.png?v=20180428\"></a><script src=\"https://tmm-adx.tianxi100.com/js/tmm-c.js\" type=\"text/javascript\"></script><script src=\"' + link + '\" type=\"text/javascript\"></script></body>';\n    var ifrdom = ifr.contentWindow.document;\n    ifrdom.open();\n    ifrdom.write(htm);\n    ifrdom.close();\n  }\n  document.ready = init(window.tmm_id, window.tmm_width, window.tmm_height);\n})(window);\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * @module Browser\n * @desc Browser Detection - Gets Data Pertaining to User's Browser and OS\n * @typicalname browser\n * @example\n * ```\n * var browser = require(\"adlibs/lib/detect/browser\")\n * ```\n */\n\n/**\n * @type Image\n * @property {String} srcset\n */\n\n/**\n * @type performance\n * @property {Object} timing\n * @property {Function} mark\n * @ignore\n */\n\n/**\n * @type document\n * @property {Number} uniqueID\n * @property {String} hidden\n * @property {Object} all\n * @property {String} documentMode\n * @property {String} visibilityState\n * @property {Document} documentElement\n * @property {Function} webkitRequestFullscreen\n * @ignore\n */\n\n/**\n * @type navigator\n * @property {String} platform\n * @property {Object} mozGetUserMedia\n * @property {Boolean} standalone\n * @property {Object} geolocation\n * @property {Object} mozBattery\n * @property {Object} webkitGetUserMedia\n * @property {String} userAgent\n * @property {Function} vibrate\n * @ignore\n */\n\n/**\n * @type browser\n * @property {String} name\n * @property {Boolean} trustworthy\n * @property {Boolean} desktop\n * @property {Boolean} mobile\n * @property {Boolean} tablet\n * @property {Boolean} console\n * @property {String} version\n * @property {UA} ua\n * @property {Feature} feature\n * @property {Engine} engine\n * @property {OS} os\n * @property {Function} setVersionAgainstUaVersion\n */\n\n/**\n * @type ua\n * @property {String} version\n */\n\n/**\n * @type feature\n * @property {String} version\n */\n\n/**\n * @type engine\n * @property {String} name\n * @property {String} version\n */\n\n/**\n * @type os\n * @property {String} name\n * @property {String} version\n */\n\n/**\n * @type style\n * @property {Object} KhtmlUserInput\n * @ignore\n */\n\n/**\n * @type URL\n * @property {Function} createObjectURL\n * @ignore\n */\n\n/**\n * @type history\n * @property {Object} replaceState\n * @ignore\n */\n\n/* This is a separator to keep the JSDOC from going insane */\n\nvar can = __webpack_require__(135).can,\n\thas = __webpack_require__(135).has,\n\tkindleBrowser = /Kindle|Silk|KFTT|KFOT|KFJWA|KFJWI|KFSOWI|KFTHWA|KFTHWI|KFAPWA|KFAPWI/i,\n\tresults = [],\n\tmap = {},\n\tDEFAULT_VERSION = -1,\n\tMAX = {\n\t\tEXCEED: 'ex',\n\t\tOK: 'ok'\n\t},\n\tMAX_BROWSER_VER = 1000,\n\tTYPE = {\n\t\tMICROSOFT: 1,\n\t\tFIREFOX: 2,\n\t\tCHROME: 3,\n\t\tOPERA: 4,\n\t\tSAFARI: 5,\n\t\tANDROID: 6,\n\t\tSAFARI_MOBILE: 7,\n\t\tOPERA_MINI: 8,\n\t\tOPERA_ANDROID: 9,\n\t\tCHROME_MOBILE: 10,\n\t\tMICROSOFT_MOBILE: 11,\n\t\tFIREFOX_MOBILE: 12,\n\t\tBLACKBERRY: 13,\n\t\tKINDLE: 14,\n\t\tWEBVIEW: 15,\n\t\tUNKNOWN: 16,\n\t\tUNKNOWN_MOBILE: 17\n\t};\n\n/**\n * @private\n * @returns {UA}\n * @constructor\n */\nvar Ua = function () {\n\tthis.version = DEFAULT_VERSION;\n};\n\n/**\n * @private\n * @returns {Feature}\n * @constructor\n */\nvar Feature = function () {\n\tthis.version = DEFAULT_VERSION;\n};\n\n/**\n * @private\n * @returns {Engine}\n * @constructor\n */\nvar Engine = function () {\n\tthis.name = '';\n\tthis.version = DEFAULT_VERSION;\n};\n\n/**\n * @private\n * @returns {OS}\n * @constructor\n */\nvar Os = function () {\n\tthis.name = '';\n\tthis.version = DEFAULT_VERSION + '';\n};\n\n/**\n * @private\n * @returns {Browser} Returns the Browser instance\n * @constructor\n */\nvar Browser = function () {\n\tvar self = this; // here for minification purposes\n\tself.name = ''; // verified name\n\tself.trustworthy = true; // does the ua jive with the feature detection\n\tself.desktop = false; // is this a desktop browser\n\tself.mobile = false; // is this a mobile phone browser\n\tself.tablet = false; // is this a mobile tablet browser\n\tself.console = false; // is this a video game or other console browser\n\tself.max = MAX.OK; // by default the ua version matches what is available\n\tself.version = DEFAULT_VERSION; // full version\n\tself.ua = new Ua();\n\tself.feature = new Feature();\n\tself.engine = new Engine();\n\tself.os = new Os();\n};\n\n/**\n * Check for MathML support in browsers to help detect certain browser version numbers where this is the only difference.\n * @param {Document} d\n * @static\n * @returns {Boolean} returns true if browser has mathml support\n */\nvar mathMLSupport = function (d) {\n\n\t'use strict';\n\n\tvar hasMathML = false;\n\n\tif (d.createElementNS) {\n\t\tvar NAMESPACE = 'http://www.w3.org/1998/Math/MathML',\n\t\t\tdiv = d.createElement('div'),\n\t\t\tmfrac;\n\n\t\tdiv.style.position = 'absolute';\n\t\tdiv.style.top = div.style.left = 0;\n\t\tdiv.style.visibility = 'hidden';\n\t\tdiv.style.width = div.style.height = 'auto';\n\t\tdiv.style.fontFamily = 'serif';\n\t\tdiv.style.lineheight = 'normal';\n\n\t\tmfrac = div.appendChild(d.createElementNS(NAMESPACE,'math'))\n\t\t\t.appendChild(d.createElementNS(NAMESPACE,'mfrac'));\n\n\t\tmfrac.appendChild(d.createElementNS(NAMESPACE,'mi'))\n\t\t\t.appendChild(d.createTextNode('xx'));\n\n\t\tmfrac.appendChild(d.createElementNS(NAMESPACE,'mi'))\n\t\t\t.appendChild(d.createTextNode('yy'));\n\n\t\td.body.appendChild(div);\n\n\t\thasMathML = div.offsetHeight > div.offsetWidth;\n\t}\n\n\treturn hasMathML;\n};\n\n/**\n * Performs a simple test to see if we're on mobile or not.\n * @param {Window=} win\n * @static\n * @returns {Boolean} returns true if mobile\n */\nvar isMobile = function (win) {\n\n\twin = win || window;\n\n\ttry {\n\t\twin.document.createEvent('TouchEvent');\n\t\t// Surface tablets have touch events, so we use the Pointer Lock API to detect them\n\t\treturn !can(win.document, 'exitPointerLock') || !can(win.document, 'mozExitPointerLock');\n\t} catch (e) {\n\t\t// Opera Mini and IE10M don't support touch events\n\t\t// execCommand is only on desktop browsers\n\t\treturn !can(win.document, 'execCommand');\n\t}\n};\n\n\n/**\n * Saves a property to the results array and returns its index.\n * @param {*} result\n * @returns {Number}\n */\nvar save = function (result) {\n\tif (typeof result === 'boolean') {\n\t\tresults.push(result === true ? '1' : '0');\n\t} else if (typeof result === 'number') {\n\t\tresults.push(result + '');\n\t} else {\n\t\tresults.push(result);\n\t}\n\treturn results.length - 1;\n};\n\n\n/**\n * Uses the min and max versions of a browser to determine its version.\n * @param {Number} uaVersion\n * @param {Number} minVersion\n * @param {Number=} maxVersion\n * @static\n * @returns {Number} returns version number\n */\nvar getVersion = function (uaVersion, minVersion, maxVersion) {\n\tvar actualVersion = minVersion;\n\tif (uaVersion >= minVersion) {\n\t\tif (!maxVersion || uaVersion <= maxVersion) {\n\t\t\tactualVersion = uaVersion;\n\t\t} else if (maxVersion && uaVersion > maxVersion) {\n\t\t\tactualVersion = maxVersion;\n\t\t}\n\t}\n\treturn actualVersion;\n};\n\n/**\n * Searches for a match between the regex and specified string.\n * @param {RegExp} regex\n * @param {String} ua\n * @static\n * @returns {*|Boolean} returns true if match found\n */\nvar looksLike = function (regex, ua) {\n\t'use strict';\n\treturn regex.test(ua);\n};\n\n/**\n * Parses the result of the RegExp match if it exists.\n * Gracefully falls back to the default version if not.\n * @param {String} ua\n * @param {RegExp} regex\n * @param {Number=} radix\n * @static\n * @returns {Number} returns the regex match or default version\n */\nvar parseIntIfMatch = function (ua, regex, radix) {\n\treturn ua.match(regex) !== null ? parseInt(ua.match(regex)[1], radix || 10) : DEFAULT_VERSION;\n};\n\n/**\n * Parses the floating point value of the RegExp match if found.\n * Gracefully falls back to the default if not.\n * @param {String} ua\n * @param {RegExp} regex\n * @static\n * @returns  returns the regex match or the default version\n */\nvar parseFloatIfMatch = function (ua, regex) {\n\treturn ua.match(regex) !== null ? parseFloat(ua.match(regex)[1]) : DEFAULT_VERSION;\n};\n\n/**\n * Determines the version of Android being used.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number} returns the Android version\n */\nvar getAndroidVersion = function (win, uaVersion) {\n\n\tvar nav = win.navigator,\n\t\tandroidVersion = DEFAULT_VERSION;\n\n\tif (can(nav, 'sendBeacon')) {\n\t\tandroidVersion = getVersion(uaVersion, 5.0, Infinity);\n\t} else if (can(has('performance', win), 'now')) {\n\t\tandroidVersion = getVersion(uaVersion, 4.4);\n\t} else if (has('FileList', win)) {\n\t\tandroidVersion = getVersion(uaVersion, 4.0, 4.3);\n\t} else {\n\t\tandroidVersion = getVersion(uaVersion, 2.1, 4.0);\n\t}\n\n\treturn androidVersion;\n};\n\n/**\n * Determines the version of Chrome being used.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number} returns the Chrome version\n */\nvar getChromiumVersion = function (win, uaVersion) {\n\n\tvar chromiumVersion = DEFAULT_VERSION;\n\t// no session history management - version 4 - api\n\t// geolocation - version 5 - api\n\t// web notifications(prefixed) - version 5 - api\n\t// server-sent DOM events - version 6 - api\n\t// FileReader - version 6 - API\n\t// inline svg - version 7 - html5\n\t// typed arrays - version 7 - api\n\t// classList DOMTokenList - version 8 - API\n\t// defer attribute for external scripts - version 8 - html5\n\t// progress meter - version 8 - html5\n\t// matchMedia - version 9 - API\n\t// webP image format, partial support - version 9 - other\n\t// form validation - version 10 - html5\n\t// getComputedStyle - version 11 - html5\n\t// IndexedDB (prefixed)- version 11 - API\n\t// Details and summary elements - version 12 - html5\n\t// Navigation timing API - version 13 - API\n\t// File API, full support - version 13 - API\n\t// Web sockets, full support - version 14 - API\n\t// Full screen API (prefixed)- version 15 - API\n\t// WebGL, 3D Canvas Graphics - version 18 - API/HTML5 -- unreliable indicator\n\t// WebVVT - version 18 - other\n\t// Blob constructing - version 20 - API\n\t// high resolution time api (prefixed) - version 20 - API\n\t// Color input type - version 20 - HTML5\n\t// getUserMedia API - version 21 - API\n\t// web notifications - version 22 - api\n\t// touch events - version 22 - API/HTML5\n\t// Blob URLs - version 23 - API\n\t// WebRTC Peer Connection (prefixed)- version 23 - API\n\t// webP image format, full support - version 23 - other\n\t// requestAnimationFrame - version 24 - API\n\t// high resolution time api - version 24 - API\n\t// User timing API - version 25 - API\n\t// web speach api(prefixed) - version 25 - api\n\t// shadow dom, prefixed - version 25 - html5\n\t// HTML templates - version 26 - html5\n\t// mutation observer - version 27 - API\n\t// Canvas blend - version 30 - API\n\t// vibration API - version 30 - API\n\t// Promises - version 32 - api\n\t// page visibility - version 33 - api\n\t// Opus codec - version 33 - other\n\t// matches() DOM method - version 34 - API\n\t// srcset attribute - version 34 - api\n\t// shadow dom - version 35 - api/html5\n\t// toolbar/context menu - version 36 - html5\n\t// scoped css - version 36 - html5\n\tif (has('Proxy', win)) {\n\t\tchromiumVersion = getVersion(uaVersion, 49, MAX_BROWSER_VER);\n\t} else if (has('PushManager', win)) {\n\t\tchromiumVersion = getVersion(uaVersion, 44, 48);\n\t} else if (can(win.navigator, 'permissions')) {\n\t\tchromiumVersion = getVersion(uaVersion, 43);\n\t} else if (can(win.navigator, 'sendBeacon')) {\n\t\tchromiumVersion = getVersion(uaVersion, 39, 42);\n\t} else if (can(win.navigator, 'getBattery')) {\n\t\tchromiumVersion = getVersion(uaVersion, 38);\n\t} else if (can(has('crypto', win), 'subtle')) {\n\t\tchromiumVersion = getVersion(uaVersion, 37);\n\t} else if (can(new Image(), 'srcset')) { // Chrome 34+\n\t\tchromiumVersion = getVersion(uaVersion, 34, 36);\n\t} else if (can(win.document, 'visibilityState')) { // Chrome 33+\n\t\tchromiumVersion = getVersion(uaVersion, 33);\n\t} else if (has('Promise', win)) { // Chrome 32+\n\t\tchromiumVersion = getVersion(uaVersion, 32);\n\t} else if (can(win.navigator, 'vibrate')) { // Chrome 30+\n\t\tchromiumVersion = getVersion(uaVersion, 30, 31);\n\t} else if (has('MutationObserver', win)) { // Chrome 27+\n\t\tchromiumVersion = getVersion(uaVersion, 27, 29);\n\t} else if (can(win.document.createElement('template'), 'content')) { // Chrome 26+\n\t\tchromiumVersion = getVersion(uaVersion, 26);\n\t} else if (can(has('performance', win), 'mark')) { // Chrome 25+\n\t\tchromiumVersion = getVersion(uaVersion, 25);\n\t} else if (has('requestAnimationFrame', win)) { // Chrome 24+\n\t\tchromiumVersion = getVersion(uaVersion, 24);\n\t} else if (can(has('URL', win), 'createObjectURL')) { // Chrome 23+\n\t\tchromiumVersion = getVersion(uaVersion, 23);\n\t} else if (has('Notification', win)) { // Chrome 22+\n\t\tchromiumVersion = getVersion(uaVersion, 22);\n\t} else if (can(win.navigator, 'webkitGetUserMedia')) { // Chrome 21+\n\t\tchromiumVersion = getVersion(uaVersion, 21);\n\t} else if (has('Blob', win)) { // Chrome 20+\n\t\tchromiumVersion = getVersion(uaVersion, 20);\n\t} else if (can(win.document, 'webkitRequestFullscreen')) { // Chrome 15+\n\t\tchromiumVersion = getVersion(uaVersion, 15, 19);\n\t} else if (can(has('performance', win), 'timing')) { // Chrome 13+\n\t\tchromiumVersion = getVersion(uaVersion, 13, 14);\n\t} else if (can(win.document.createElement('details'), 'open')) { // Chrome 12+\n\t\tchromiumVersion = getVersion(uaVersion, 12);\n\t} else if (has('webkitIndexedDB', win)) { // Chrome 11+\n\t\tchromiumVersion = getVersion(uaVersion, 11);\n\t} else if (can(win.document.createElement('input'), 'checkValidity')) { // Chrome 10+\n\t\tchromiumVersion = getVersion(uaVersion, 10);\n\t} else if (has('matchMedia', win)) { // Chrome 9+\n\t\tchromiumVersion = getVersion(uaVersion, 9);\n\t} else if (can(win.document.createElement('_'), 'classList')) { // Chrome 8+\n\t\tchromiumVersion = getVersion(uaVersion, 8);\n\t} else if (has('Uint32Array', win)) { // Chrome 7+\n\t\tchromiumVersion = getVersion(uaVersion, 7);\n\t} else if (has('FileReader', win)) { // Chrome 6+\n\t\tchromiumVersion = getVersion(uaVersion, 6);\n\t} else if (has('webkitNotification', win)) { // Chrome 5+\n\t\tchromiumVersion = getVersion(uaVersion, 5);\n\t} else if (can(has('history', win), 'replaceState')) { // Chrome 4+\n\t\tchromiumVersion = getVersion(uaVersion, 4);\n\t} else {\n\t\tchromiumVersion = getVersion(uaVersion, 0, 3);\n\t}\n\treturn chromiumVersion;\n};\n\n/**\n * @private\n * @param {Window} win\n * @param {Number} uaVersion\n * @returns {Number}\n */\nvar getGeckoVersion = function (win, uaVersion) {\n\n\tvar geckoVersion = DEFAULT_VERSION,\n\t\td = win.document,\n\t\tnav = win.navigator;\n\t// Detect all versions of browsers who are using gecko as their rendering engine, prioritizing Firefox\n\n\t// all versions:\n\t// optimal version coverage:\n\t// versions accounted for:\n\t// versions covered by feature testing:\n\tif (has('PushManager', win)) {\n\t\tgeckoVersion = getVersion(uaVersion, 44, MAX_BROWSER_VER);\n\t} else if (has('MessageChannel', win)) {\n\t\tgeckoVersion = getVersion(uaVersion, 41, 43);\n\t} else if (has('fetch', win)) {\n\t\tgeckoVersion = getVersion(uaVersion, 39, 40);\n\t} else if (can(has('performance', win), 'mark')) {\n\t\tgeckoVersion = getVersion(uaVersion, 38);\n\t} else if (can(has('crypto', win), 'subtle')) {\n\t\tgeckoVersion = getVersion(uaVersion, 34, 37);\n\t} else if (can(win.navigator, 'sendBeacon')) {\n\t\tgeckoVersion = getVersion(uaVersion, 31, 33);\n\t} else if (has('SharedWorker', win)) { // FF 29+\n\t\tgeckoVersion = getVersion(uaVersion, 29, 30);\n\t} else if (has('AudioContext', win)) { // FF 25+\n\t\tgeckoVersion = getVersion(uaVersion, 25, 28);\n\t} else if (has('requestAnimationFrame', win)) { // FF 23+\n\t\tgeckoVersion = getVersion(uaVersion, 23, 24);\n\t} else if (has('Notification', win)) { // FF 22+\n\t\tgeckoVersion = getVersion(uaVersion, 22);\n\t} else if (can(d, 'hidden')) { // FF 18+\n\t\tgeckoVersion = getVersion(uaVersion, 18, 21);\n\t} else if (can(nav, 'mozGetUserMedia')) { // FF 17+\n\t\tgeckoVersion = getVersion(uaVersion, 17);\n\t} else if (has('indexedDB', win)) { // FF 16+\n\t\tgeckoVersion = getVersion(uaVersion, 16);\n\t} else if (can(has('performance', win), 'now')) { // FF 15+\n\t\tgeckoVersion = getVersion(uaVersion, 15);\n\t} else if (has('MutationObserver', win)) { // FF 14+\n\t\tgeckoVersion = getVersion(uaVersion, 14);\n\t} else if (has('Blob', win)) { // FF 13+\n\t\tgeckoVersion = getVersion(uaVersion, 13);\n\t} else if (has('WebSocket', win)) { // FF 11+\n\t\tgeckoVersion = getVersion(uaVersion, 11, 12);\n\t} else if (can(nav, 'mozBattery')) { // FF 10+\n\t\tgeckoVersion = getVersion(uaVersion, 10);\n\t} else if (can(has('performance', win), 'timing')) { // FF 7+\n\t\tgeckoVersion = getVersion(uaVersion, 7, 9);\n\t} else if (has('matchMedia', win)) { // FF 6+\n\t\tgeckoVersion = getVersion(uaVersion, 6);\n\t} else if (has('Uint32Array', win)) { // FF 4+\n\t\tgeckoVersion = getVersion(uaVersion, 4, 5);\n\t} else if (has('FileReader', win)) { // FF 3.6\n\t\tgeckoVersion = getVersion(uaVersion, 3.6);\n\t} else if (has('JSON', win)) { // FF 3.5+\n\t\tgeckoVersion = getVersion(uaVersion, 3.5);\n\t} else if (has('postMessage', win)) { // FF 3+\n\t\tgeckoVersion = getVersion(uaVersion, 3);\n\t} else {\n\t\tgeckoVersion = getVersion(uaVersion, 0, 2.9);\n\t}\n\n\treturn geckoVersion;\n};\n\n/**\n * @private\n * @param {Window} win\n * @param {Number} uaVersion\n * @returns {Number}\n */\nvar getTridentVersion = function (win, uaVersion) {\n\n\tvar tridentVersion = DEFAULT_VERSION,\n\t\td = win.document;\n\t// Detect all IE versions possible by feature detection\n\n\t// all versions:\t\t\t\t\t\t1.0, 2.0, 3.0, 4.0, 5.0, 5.2, 5.5, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0\n\t// optimal version coverage:\t\t\t6.0, 7.0, 8.0, 9.0, 10.0, 11.0\n\t// versions accounted for:\t\t\t\t3-11\n\t// versions covered by feature testing: 3.0, 4.0, 5.0, 5.5, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0\n\tif (can(d, 'pointerLockElement')) {\n\t\ttridentVersion = getVersion(uaVersion, 13, MAX_BROWSER_VER);\n\t} else if (has('Proxy', win)) {\n\t\ttridentVersion = getVersion(uaVersion, 12);\n\t} else if (has('MutationObserver', win)) { // IE 11+\n\t\ttridentVersion = getVersion(uaVersion, 11);\n\t} else if (has('atob', win)) { // IE 10+\n\t\ttridentVersion = getVersion(uaVersion, 10);\n\t} else if (has('addEventListener', win)) { // IE 9+\n\t\ttridentVersion = getVersion(uaVersion, 9);\n\t} else if (has('localStorage', win)) { // IE 8+\n\t\ttridentVersion = getVersion(uaVersion, 8);\n\t} else if (can(d, 'all') && has('XMLHttpRequest', win) && !has('XDomainRequest', win) && !has('opera', win)) { // IE 7\n\t\ttridentVersion = getVersion(uaVersion, 7);\n\t} else if (can(d, 'all') && !has('XMLHttpRequest', win)) { // IE 6\n\t\ttridentVersion = getVersion(uaVersion, 6);\n\t} else { // IE 3 - 5.5\n\t\ttridentVersion = DEFAULT_VERSION;\n\t}\n\n\treturn tridentVersion;\n};\n\n /**\n * See https://en.wikipedia.org/wiki/Trident_(layout_engine)\n * @private\n * @param {Number} ver\n * @returns {Number}\n */\nvar getTridentEngineVersion = function (ver) {\n\n\tvar engineVersion = DEFAULT_VERSION;\n\n\tif (ver >= 11) {\n\t\tengineVersion = 7;\n\t} else if (ver === 10) {\n\t\tengineVersion = 6;\n\t} else if (ver === 9) {\n\t\tengineVersion = 5;\n\t} else if (ver === 8) {\n\t\tengineVersion = 4;\n\t} else if (ver <= 7) {\n\t\tengineVersion = 3;\n\t}\n\n\treturn engineVersion;\n};\n\n/**\n * Returns the version of the Safari browser.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number} returns the version of Safari\n */\nvar getSafariVersion = function (win, uaVersion) {\n\n\tvar safariVersion = DEFAULT_VERSION,\n\t\td = win.document,\n\t\tnav = win.navigator;\n\n    if (has('WebAssembly', win)) {\n        safariVersion = getVersion(uaVersion, 11.0, Infinity);\n    } else if (has ('Intl', win)) {\n    \t// 10.10 chosen to account for any possible patch releases in the future\n        safariVersion = getVersion(uaVersion, 10.0, 10.10);\n    } else if (can(has('CSS', win), 'supports')) {\n\t\tsafariVersion = getVersion(uaVersion, 9.0, 9.3);\n\t} else if (has('indexedDB', win)) {\n\t\tsafariVersion = getVersion(uaVersion, 8.0, 8.4);\n\t} else if (has('execCommand', d)) {\n\t\tsafariVersion = getVersion(uaVersion, 7.0, 7.1);\n\t} else if (has('requestAnimationFrame', win)) {\n\t\tsafariVersion = getVersion(uaVersion, 6.0, 6.1);\n\t} else if (has('Uint32Array', win)) {\n\t\t// Safari 6533.18.5 - iOS 4.3.5\n\t\tsafariVersion = getVersion(uaVersion, 5.1);\n\t} else if (can(nav, 'geolocation')) {\n\t\tsafariVersion = getVersion(uaVersion, 5.0);\n\t} else if (can(nav, 'onLine')) {\n\t\tsafariVersion = getVersion(uaVersion, 4.2, 4.3);\n\t} else if (has('JSON', win)) {\n\t\t// Safari 6531.22.7 - iOS 4.0.2\n\t\tsafariVersion = getVersion(uaVersion, 4.0, 4.1);\n\t} else if (has('postMessage', win)) {\n\t\t// webkit 531.21.10 - iOS 3.2.2\n\t\t// webkit 528.16 - iOS 3.1.3\n\t\tsafariVersion = getVersion(uaVersion, 3.2);\n\t} else {\n\t\tsafariVersion = getVersion(uaVersion, 0, 3.1);\n\t}\n\n\treturn safariVersion;\n};\n\n/**\n * Creates a Browser instance with its attributed Kindle values.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number}\n */\nvar getKindleVersion = function (win, uaVersion) {\n\n\tvar kindleVersion = DEFAULT_VERSION,\n\t\td = win.document;\n\n\tif (can(d, 'pointerLockElement')) {\n\t\tkindleVersion = getVersion(uaVersion, 3.0, Infinity);\n\t} else if (has('PerformanceTiming', win)) {\n\t\tkindleVersion = getVersion(uaVersion, 2.0);\n\t} else {\n\t\tkindleVersion = getVersion(uaVersion, 1.0);\n\t}\n\n\treturn kindleVersion;\n};\n\n/**\n * Creates a Browser instance with its attributed OS and device type values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the browser instance\n */\nvar getOtherOS = function (win, ua) {\n\n\tvar otherBrowser = new Browser();\n\n\tif (has('wiiu', win)) {\n\t\totherBrowser.os.name = 'Wii';\n\t\totherBrowser.os.version = 'U';\n\t\totherBrowser.name = 'NetFront';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/Wii/i, ua)) {\n\t\totherBrowser.os.name = 'Wii';\n\t\totherBrowser.name = 'NetFront';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/PlayStation.4/i, ua)) {\n\t\totherBrowser.os.name = 'PlayStation';\n\t\totherBrowser.os.version = '4';\n\t\totherBrowser.name = 'NetFront';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/PlayStation/i, ua)) {\n\t\totherBrowser.os.name = 'PlayStation';\n\t\totherBrowser.os.version = '3';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/NgetOtherOSokiaN/i, ua)) {\n\t\totherBrowser.os.name = 'Symbian';\n\t\totherBrowser.mobile = true;\n\t} else if (looksLike(/blackberry|RIM/i, ua)) {\n\t\totherBrowser.os.name = 'Blackberry';\n\t\totherBrowser.mobile = true;\n\t} else if (win.navigator && win.navigator.platform === 'X11' || looksLike(/Linux/i, ua)) {\n\t\totherBrowser.os.name = 'Linux';\n\t\totherBrowser.desktop = true;\n\t} else {\n\t\totherBrowser.os.name = 'Unknown';\n\t}\n\treturn otherBrowser;\n};\n\n/**\n * Creates a Browser instance with its attributed Apple values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getAppleOS = function (win, ua) {\n\n\tvar mac = /Mac/i,\n\t\tiOS = /iPhone|iPad|iPod/i,\n\t\tappleBrowser = new Browser(),\n\t\tiOSVersion = DEFAULT_VERSION,\n\t\tmacVersion = DEFAULT_VERSION;\n\n\t// Mozilla/5.0 (iPhone; CPU iPhone OS 7_1 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D167 Safari/9537.53\n\t// webviews will not have Safari in their user-agent string\n\tif ((iOS.test(ua) || iOS.test(win.navigator.platform)) || !looksLike(/Safari|Firefox|Chrome/i, ua)) {\n\t\tif (!looksLike(/Version\\/\\d\\.\\d/i, ua)) {\n\t\t\tappleBrowser.ua.version = '2.0';\n\t\t} else {\n\t\t\tif (looksLike(/.OS.(\\d.\\d+)/i, ua)) {\n\t\t\t\tiOSVersion = (ua.match(/.OS.(\\d.\\d+)/i)[1].replace('_','.'));\n\t\t\t} else if (looksLike(/.Version\\/(\\d\\.\\d+)/i, ua)) {\n\t\t\t\tiOSVersion = (ua.match(/.Version\\/(\\d\\.\\d+)/i)[1]);\n\t\t\t}\n\t\t}\n\t\tappleBrowser.ua.version = appleBrowser.os.version = iOSVersion;\n\t\tappleBrowser.os.name = 'iOS';\n\t\tappleBrowser.tablet = /ipad/i.test(win.navigator.platform);\n\t\tappleBrowser.mobile = /iphone|ipod/i.test(win.navigator.platform);\n\t} else if (mac.test(ua) || mac.test(win.navigator.platform)) {\n\t\tmacVersion = parseIntIfMatch(ua, /Mac.OS.X.10.(\\d+)/i, 10); // this format was introduced at 3.0+\n\t\tif (macVersion > 0) {\n\t\t\tappleBrowser.os.name = 'Mac';\n\t\t\tappleBrowser.os.version = '10.' + macVersion;\n\t\t}\n\t\tappleBrowser.desktop = true;\n\t}\n\n\treturn appleBrowser;\n};\n\n/**\n * Creates a Browser instance with its attributed Windows values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getMicrosoftOS = function (win, ua) {\n\n\tvar microsoftBrowser = new Browser();\n\n\tif (looksLike(/XBox One/i, ua)) {\n\t\tmicrosoftBrowser.os.name = 'Xbox';\n\t\tmicrosoftBrowser.os.version = 'One';\n\t\tmicrosoftBrowser.name = 'Internet Explorer';\n\t\tmicrosoftBrowser.version = '10.0';\n\t\tmicrosoftBrowser.console = true;\n\t} else if (looksLike(/Xbox/i, ua)) {\n\t\tmicrosoftBrowser.os.name = 'Xbox';\n\t\tmicrosoftBrowser.os.version = '360';\n\t\tmicrosoftBrowser.name = 'Internet Explorer';\n\t\tmicrosoftBrowser.version = '7.0';\n\t\tmicrosoftBrowser.console = true;\n\t} else {\n\t\tmicrosoftBrowser.os.name = 'Windows';\n\t\tif (looksLike(/IEMobile/i, ua)) {\n\t\t\tmicrosoftBrowser.mobile = true;\n\t\t\tmicrosoftBrowser.os.name = 'Windows Phone';\n\t\t\tif (looksLike(/Windows.Phone.(?:os)?\\s?(\\d\\d?\\.?\\d?\\d?)/i, ua)) {\n\t\t\t\tmicrosoftBrowser.os.version = ua.match(/Windows.Phone.(?:os)?\\s?(\\d\\d?\\.?\\d?\\d?)/i)[1];\n\t\t\t} else if (looksLike(/WP(\\d\\d?\\.?\\d?\\d?)/i, ua)) {\n\t\t\t\tmicrosoftBrowser.os.version = ua.match(/WP(\\d\\d?\\.?\\d?\\d?)/i)[1];\n\t\t\t}\n\t\t} else if (looksLike(/Windows.NT./i, ua)) {\n\t\t\tmicrosoftBrowser.desktop = true;\n\t\t\tvar pcVersion = parseFloatIfMatch(ua, /Windows.NT.(\\d\\d?\\.?\\d?\\d?)/i); // this format was introduced at 3.0+\n\t\t\t// List pulled from http://msdn.microsoft.com/en-us/library/ms537503(v=vs.85).aspx\n\t\t\tswitch (pcVersion) {\n\t\t\t\tcase 10:\n\t\t\t\t\tmicrosoftBrowser.os.version = '10.0';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6.3:\n\t\t\t\t\tmicrosoftBrowser.os.version = '8.1';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6.2:\n\t\t\t\t\tmicrosoftBrowser.os.version = '8';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6.1:\n\t\t\t\t\tmicrosoftBrowser.os.version = '7';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tmicrosoftBrowser.os.version = 'Vista';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5.2:\n\t\t\t\t\tmicrosoftBrowser.os.version = '2003';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5.1:\n\t\t\t\t\tmicrosoftBrowser.os.version = 'XP';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5.01:\n\t\t\t\t\tmicrosoftBrowser.os.version = '2000 SP1';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tmicrosoftBrowser.os.version = '2000';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tmicrosoftBrowser.os.version = 'NT';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tmicrosoftBrowser.os.version = DEFAULT_VERSION;\n\t\t\t}\n\t\t} else if (looksLike(/Windows.9(\\d)/i, ua)) {\n\t\t\tmicrosoftBrowser.os.version = '9x'; // 95, 98, or Me, which all must have a market share of nothingness by now so we dont care which it is\n\t\t\tmicrosoftBrowser.desktop = true;\n\t\t} else if (looksLike(/Windows.CE/i, ua)) {\n\t\t\tmicrosoftBrowser.os.version = 'CE'; // only matters that its mobile\n\t\t\tmicrosoftBrowser.mobile = true;\n\t\t} else {\n\t\t\tmicrosoftBrowser.os.version = DEFAULT_VERSION + '';\n\t\t\tmicrosoftBrowser.desktop = true;\n\t\t}\n\t}\n\t// special detection for MS Surfaces specifically\n\tif(looksLike(/Touch/i, ua) && !looksLike(/IEMobile/i, ua)) {\n\t\tmicrosoftBrowser.os.name = 'Window RT';\n\t}\n\n\treturn microsoftBrowser;\n};\n\n/**\n * Creates a Browser instance with its attributed Android values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getAndroidOS = function (win, ua) {\n\n\tvar androidBrowser = new Browser();\n\n\tandroidBrowser.ua.version = parseFloatIfMatch(ua, /Android\\s(\\d+\\.\\d+)/i);\n\tandroidBrowser.os.name = 'Android';\n\tandroidBrowser.mobile = true;\n\n\tif (looksLike(/Chrome/i, ua)) {\n\t\t// modern Android browsers use the chrome engine\n\t\tandroidBrowser.engine.name = 'chrome';\n\t\tandroidBrowser.engine.version = parseIntIfMatch(ua, /Chrome\\/(\\d+)/i, 10);\n\t} else if (looksLike(/AppleWebKit/i, ua)) {\n\t\t// old Android browsers uses webkit\n\t\tandroidBrowser.engine.name = 'webkit';\n\t\tandroidBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/i, 10);\n\t} else {\n\t\tandroidBrowser.engine.name = 'unknown';\n\t}\n\t// for now, we use the same logic for Android's browser and os detection\n\tandroidBrowser.os.version = getAndroidVersion(win, androidBrowser.ua.version) + '';\n\n\treturn androidBrowser;\n};\n\n/**\n * Returns the Kindle's OS.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getKindleOS = function (win, ua) {\n\n\tvar kindleBrowser = new Browser();\n\n\tif (looksLike(/Silk/i, ua)) {\n\t\tkindleBrowser.engine.name = 'silk';\n\t\tkindleBrowser.engine.version = parseIntIfMatch(ua, /Silk\\/(\\d+)/i, 10);\n\t\t// set the detected version equal to silk by default\n\t\tkindleBrowser.ua.verison = kindleBrowser.engine.version;\n\t} else if (looksLike(/AppleWebKit/i, ua)) {\n\t\tkindleBrowser.engine.name = 'webkit';\n\t\tkindleBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/i, 10);\n\t\t// if the kindle doesn't have silk in the userAgent, something is wonky\n\t\tkindleBrowser.ua.version = 1;\n\t}\n\n\tif (looksLike(/Version/i, ua)) {\n\t\t// some kindles have a Version property in their userAgent\n\t\tkindleBrowser.ua.version = parseFloatIfMatch(ua, /Version\\/(\\d+\\.\\d+)/i);\n\t}\n\n\tkindleBrowser.version = getKindleVersion(win, kindleBrowser.ua.version);\n\tkindleBrowser.tablet = true;\n\n\treturn kindleBrowser;\n};\n\n/**\n * Reads the user agent string to determine OS.\n * @param {Window} win\n * @param  {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getOsFromUa = function (win, ua) {\n\n\tvar unknownOS = new Browser();\n\n\tif (looksLike(/Win|IEMobile/i, ua)) {\n\t\tunknownOS = getMicrosoftOS(win, ua);\n\t} else if (looksLike(/Mac|iPhone|iPad|iPod/i, ua)) {\n\t\tunknownOS = getAppleOS(win, ua);\n\t} else if (looksLike(/Android/i, ua)) {\n\t\tunknownOS = getAndroidOS(win, ua);\n\t} else if (looksLike(kindleBrowser, ua)) {\n\t\tunknownOS = getKindleOS(win, ua);\n\t} else {\n\t\tunknownOS = getOtherOS(win, ua);\n\t}\n\treturn unknownOS;\n};\n\n/**\n * Returns an object containing browser details (e.g. name, os, version, etc.).\n * @param {Window=} win\n * @param {String=} userAgent\n * @static\n * @returns {Browser} returns the Browser instance\n * @example\n * ```js\n * var os = browser.detect().os.name;\n *\n * console.log(os); // outputs OS name (e.g. Windows, Mac, Android, etc.)\n * ```\n */\nvar detect = function (win, userAgent) {\n\n\tvar detectedBrowser = new Browser(),\n\t\tbrowserType = '',\n\t\tw = win || window,\n\t\td = w.document,\n\t\tua = userAgent || w.navigator.userAgent,\n\t\tnav = w.navigator,\n\t\tstyle = w.document.documentElement.style;\n\n\t// reset the results array\n\tresults = [];\n\n\t// see if this is a mobile browser\n\tdetectedBrowser.mobile = isMobile(w);\n\n\t// run thru mobile detection first if applicable\n\tif (detectedBrowser.mobile) {\n\t\t// MS Surfaces pass the mobile test, so we account for them here\n\t\t// IE Mobile sometimes contain touch in the UA\n\t\tif (looksLike(/Win/i, ua) && looksLike(/Touch/i, ua) && !looksLike(/IEMobile/i, ua)) {\n\t\t\tbrowserType = TYPE.MICROSOFT;\n\t\t// Kindle feature support varies greatly, and they retain low market-share, so we trust the user agent for now\n\t\t} else if (looksLike(kindleBrowser, ua)) {\n\t\t\tbrowserType = TYPE.KINDLE;\n\t\t} else if (can(nav, 'permissions')) {\n\t\t\t// Chrome is the only mobile platform with permissions\n\t\t\tbrowserType = TYPE.CHROME_MOBILE;\n\t\t} else if (has('ondevicelight', w)) {\n\t\t\t// Only FF Mobile has the ambient light API\n\t\t\tbrowserType = TYPE.FIREFOX_MOBILE;\n\t\t} else if (has('setImmediate', w)) {\n\t\t\t// IE is the only mobile with setImmediate\n\t\t\tbrowserType = TYPE.MICROSOFT_MOBILE;\n\t\t} else if (!has('matchMedia', w)) {\n\t\t\t// only Opera Mini lacks matchMedia, thanks for making this easy Opera!\n\t\t\tbrowserType = TYPE.OPERA_MINI;\n\t\t} else if (has('speechSynthesis', w)) {\n\t\t\t// iOS began supporting internationalization api in iOS 10\n\t\t\t// iOS Safari has speech synth support that goes way back to older versions too\n\t\t\tbrowserType = TYPE.SAFARI_MOBILE;\n\t\t} else if (has('isFinite', w) || can(has('connection', nav), 'type')) {\n\t\t\t// Android is the only remaining one with isFinite\n\t\t\t// Very old Android supports nav.connection.type\n\t\t\tif (mathMLSupport(d)) {\n\t\t\t\t// Detect mathML to find webviews reporting themselves as Android\n\t\t\t\tbrowserType = TYPE.WEBVIEW;\n\t\t\t} else {\n\t\t\t\t// Android has never supported mathML as of 4.4.4\n\t\t\t\tbrowserType = TYPE.ANDROID;\n\t\t\t}\n\t\t} else if (!has('Intl', w)) {\n\t\t\t// blackBerry is the only one left without Internationalization\n\t\t\tbrowserType = TYPE.BLACKBERRY;\n\t\t} else if (has('webkitRequestFileSystem', w)) {\n\t\t\t// Opera is the only one remaining with a File System API\n\t\t\tbrowserType = TYPE.OPERA_ANDROID;\n\t\t} else {\n\t\t\tbrowserType = TYPE.UNKNOWN_MOBILE;\n\t\t}\n\t} else if (!has('EventSource', w) && can(nav, 'onLine')) {\n\t\tbrowserType = TYPE.MICROSOFT;\n\t} else if (has('InstallTrigger', w)) {\n\t\tbrowserType = TYPE.FIREFOX;\n\t} else if (has('chrome', w) && !has('opera', w) && !looksLike(/\\sOPR\\/\\d+/i, ua)) {\n\t\tbrowserType = TYPE.CHROME;\n\t} else if (has('opera', w) || looksLike(/\\sOPR\\/\\d+/i, ua)) {\n\t\tbrowserType = TYPE.OPERA;\n\t} else if (!has('webkitRequestFileSystem', w)) {\n\t\tbrowserType = TYPE.SAFARI;\n\t} else {\n\t\tbrowserType = TYPE.UNKNOWN;\n\t}\n\n\t// now that we know the environment, we run feature detection specific to it\n\tif (browserType === TYPE.MICROSOFT) {\n\n\t\tdetectedBrowser = getMicrosoftOS(w, ua);\n\t\tdetectedBrowser.engine.name = 'trident';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Edge\\/(\\d+)/i, 10);\n\n\t\tif (detectedBrowser.ua.version === DEFAULT_VERSION) {\n\t\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /MSIE\\/(\\d+)/i, 10);\n\t\t}\n\n\t\tdetectedBrowser.version = getTridentVersion(w, detectedBrowser.ua.version);\n\t\tdetectedBrowser.engine.version = getTridentEngineVersion(detectedBrowser.version);\n\n\t\tif (detectedBrowser.version >= 12) {\n\t\t\tdetectedBrowser.name = 'Edge';\n\t\t} else {\n\t\t\tdetectedBrowser.name = 'Internet Explorer';\n\t\t}\n\n\t\tif (detectedBrowser.name === 'Edge' && !looksLike(/Edge/i, ua)) {\n\t\t\tdetectedBrowser.trustworthy = false;\n\t\t} else if (detectedBrowser.name === 'Internet Explorer' && (!looksLike(/MSIE/i, ua) && !looksLike(/Trident/i, ua))) {\n\t\t\tdetectedBrowser.trustworthy = false;\n\t\t}\n\n\t} else if (browserType === TYPE.FIREFOX) {\n\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Firefox';\n\t\tdetectedBrowser.engine.name = 'gecko';\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /rv:(\\d+)/i, 10);\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Firefox\\/(\\d+)/i, 10);\n\t\tdetectedBrowser.version = getGeckoVersion(w, detectedBrowser.ua.version);\n\n\t\tif (!looksLike(/Firefox/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.CHROME) {\n\t\t// Detect all chrome versions possible by feature detection\n\n\t\t// all versions:\t\t\t\t\t\t1-38\n\t\t// optimal version coverage:\t\t\t21, 35, 36, 37, 38\n\t\t// versions accounted for:\t\t\t\t4-38\n\t\t// versions covered by feature testing: 4-13, 15, 20-27, 30, 32-34\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.engine.name = has('CSS', w) ? 'blink' : 'webkit'; // should be all of version 27+ on blink\n\t\t// chrome uses a standard ua format and can always supported indexOf\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /Chrome\\/(\\d+)/i, 10);\n\t\tdetectedBrowser.ua.version = detectedBrowser.engine.version;\n\t\tdetectedBrowser.version = getChromiumVersion(w, detectedBrowser.ua.version);\n\n\t\tdetectedBrowser.name = 'Chrome';\n\n\t\tif (!looksLike(/Chrome/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.OPERA) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\n\t\tif (looksLike(/Presto\\/(\\d+\\.\\d+)/i, ua)) {\n\t\t\tdetectedBrowser.engine.version = parseFloatIfMatch(ua, /Presto\\/(\\d+\\.\\d+)/i);\n\t\t} else if (looksLike(/AppleWebKit\\/(\\d+)/i, ua)) {\n\t\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/i, 10);\n\t\t}\n\n\t\tif (looksLike(/Nintendo/i, ua)) {\n\t\t\tdetectedBrowser.engine.name = 'presto';\n\t\t\tdetectedBrowser.version = '9.0';\n\t\t\tdetectedBrowser.console = true;\n\t\t} else {\n\t\t\tif (can(has('opera', w), 'version')) {\n\t\t\t\tdetectedBrowser.feature.version = parseFloat(w.opera.version()); // presto reveals its version via api\n\t\t\t\tdetectedBrowser.version = detectedBrowser.feature.version;\n\t\t\t\tdetectedBrowser.engine.name = 'presto'; // should be all of version 27+ on blink\n\t\t\t} else {\n\t\t\t\tdetectedBrowser.version = getChromiumVersion(w, detectedBrowser.ua.version);\n\t\t\t\tdetectedBrowser.engine.name = 'blink'; // chrome's blink engine would be the version of the engine here\n\t\t\t\tdetectedBrowser.engine.version = detectedBrowser.version; // chrome's blink engine would be the version of the engine here\n\n\t\t\t\tif (looksLike(/OPR\\/\\d+.\\d+/i, ua)) {\n\t\t\t\t\tdetectedBrowser.ua.version = parseFloatIfMatch(ua, /OPR\\/\\d+.\\d+/i);\n\t\t\t\t}\n\n\t\t\t\tif (detectedBrowser.version >= 28) { // chrome version is 28+ then it's on chrome's release cycle.\n\t\t\t\t\tdetectedBrowser.version = getVersion(detectedBrowser.ua.version, detectedBrowser.version - 13, MAX_BROWSER_VER); // Guess the version based on chrome's version.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdetectedBrowser.name = 'Opera';\n\n\t\tif (!looksLike(/Opera/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.SAFARI) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/, 10);\n\t\t// all versions:\t\t\t\t\t\t0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 2.0, 3.0, 3.1, 3.2, 4.0, 4.1, 5.0, 5.1, 6.0, 6.1, 7.0, 8.0\n\t\t// optimal version coverage:\t\t\t6.1, 7.0, 8.0\n\t\t// versions accounted for:\t\t\t\t*\n\t\t// versions covered by feature testing: 3.2, 4.0, 4.2, 5.0, 6.0, 7.0\n\t\tdetectedBrowser.desktop = true;\n\n\t\tif (looksLike(/Version\\/(\\d\\.\\d)/i, ua)) {\n\t\t\tdetectedBrowser.ua.version = parseFloatIfMatch(ua, /Version\\/(\\d\\.\\d)/i); // this format was introduced at 3.0+browser.ua.version = parseFloat(ua.match()[1]);\n\t\t}\n\n\t\tif (looksLike(/Mac.OS.X.10.(\\d+)/i, ua)) {\n\t\t\tvar macVersion = parseIntIfMatch(ua, /Mac.OS.X.10.(\\d+)/i, 10); // this format was introduced at 3.0+\n\t\t\tif (macVersion > 0) {\n\t\t\t\tdetectedBrowser.os.name = 'Mac';\n\t\t\t\tdetectedBrowser.os.version = '10.' + macVersion;\n\t\t\t} else {\n\t\t\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\t\t}\n\t\t} else {\n\t\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\t}\n\n\t\tdetectedBrowser.name = 'Safari';\n\t\tdetectedBrowser.engine.name = 'webkit';\n\t\tdetectedBrowser.version = getSafariVersion(w, detectedBrowser.ua.version);\n\n\t\tif (!looksLike(/Safari/i, ua)) {\n\t\t\tdetectedBrowser.trustworthy = false;\n\t\t}\n\n\t} else if (browserType === TYPE.ANDROID) {\n\n\t\tdetectedBrowser = getAndroidOS(w, ua);\n\t\tdetectedBrowser.name = 'Android';\n\t\tdetectedBrowser.version = getAndroidVersion(w, detectedBrowser.ua.version);\n\n\t\tif (!looksLike(/Android/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.SAFARI_MOBILE) {\n\n\t\tdetectedBrowser = getAppleOS(w, ua);\n\t\t// Feature detect Mobile Safari so we can tell if it's the real deal or an imposter\n\t\tdetectedBrowser.name = 'Mobile Safari';\n\t\tdetectedBrowser.engine.name  = 'webkit';\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/, 10);\n\t\tif (looksLike(/Version\\/(\\d\\.\\d)/i, ua)) {\n\t\t\tdetectedBrowser.ua.version = parseFloatIfMatch(ua, /Version\\/(\\d\\.\\d)/i); // this format was introduced at 3.0+browser.ua.version = parseFloat(ua.match()[1]);\n\t\t}\n\t\t// all versions:\t\t\t\t\t\t1.0, 1.1, 2.0, 2.1, 2.2, 3.0, 3.1, 3.2, 4.0, 4.1, 4.2, 4.3, 5.0, 5.1, 6.0, 6.1, 7.0, 7.1, 8.0\n\t\t// optimal version coverage:\t\t\t6.x, 7.x, 8.x\n\t\t// versions accounted for:\t\t\t\t*\n\t\t// versions covered by feature testing:\t3.2, 4.0, 4.2, 5.0, 6.0, 7.0, 8.0\n\t\tdetectedBrowser.version = getSafariVersion(w, detectedBrowser.ua.version);\n\t\tdetectedBrowser.os.version = detectedBrowser.version;\n\n\t\tif (!looksLike(/Safari/i, ua) || !looksLike(/iPhone|iPad/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.CHROME_MOBILE) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Chrome Android';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Chrome\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Chrome/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.FIREFOX_MOBILE) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Firefox Android';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Firefox\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Firefox/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.MICROSOFT_MOBILE) {\n\t\tdetectedBrowser = getMicrosoftOS(w, ua);\n\t\tdetectedBrowser.name = 'Mobile IE';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /IEMobile\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/MSIE/i, ua) || !looksLike(/IEMobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.WEBVIEW) {\n\t\tdetectedBrowser = getAppleOS(w, ua);\n\t\tdetectedBrowser.name = 'iOS Webview';\n\t\tif (!looksLike(/iPhone|iPad|iPod/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\t} else if (browserType === TYPE.OPERA_MINI) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Opera Mini';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Opera Mini\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Opera/i, ua) || !looksLike(/Mini/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.OPERA_ANDROID) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Opera Android';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Opera\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Opera/i, ua) || !looksLike(/Android/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.KINDLE) {\n\t\tdetectedBrowser = getKindleOS(w, ua);\n\t\tdetectedBrowser.name = 'Kindle';\n\t\t// we rely on the user agent for all kindle detection, so we can't detect untrustworthiness\n\t} else if (browserType === TYPE.UNKNOWN || browserType === TYPE.UNKNOWN_MOBILE) {\n\t\tif (can(style, 'KhtmlUserInput')) {\n\t\t\tdetectedBrowser.name = 'Linux Browser';\n\t\t\tdetectedBrowser.engine.name = 'khtml';\n\t\t\tdetectedBrowser.os.name = 'Linux';\n\t\t\tdetectedBrowser.desktop = true;\n\t\t} else {\n\t\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\t\tdetectedBrowser.name = 'Unknown';\n\t\t\tdetectedBrowser.engine.name = 'Unknown';\n\t\t\tdetectedBrowser.os.name = 'Unknown';\n\t\t}\n\t}\n\n\t// if the user agent version is beyond \n\tif (detectedBrowser.ua.version > detectedBrowser.version) {\n\t\tdetectedBrowser.max = MAX.EXCEED;\n\t}\n\n\tmap.TRUSTWORTHY = save(detectedBrowser.trustworthy);\n\tmap.BROWSER_NAME = save(detectedBrowser.name);\n\tmap.BROWSER_VERSION = save(detectedBrowser.version);\n\tmap.ENGINE_NAME = save(detectedBrowser.engine.name);\n\tmap.ENGINE_VERSION = save(detectedBrowser.engine.version);\n\tmap.OS_NAME = save(detectedBrowser.os.name);\n\tmap.OS_VERSION = save(detectedBrowser.os.version);\n\tmap.DESKTOP = save(detectedBrowser.desktop);\n\tmap.MOBILE = save(detectedBrowser.mobile);\n\tmap.TABLET = save(detectedBrowser.tablet);\n\tmap.CONSOLE = save(detectedBrowser.console);\n\tmap.MAX = save(detectedBrowser.max);\n\n\tdetectedBrowser.isIE = (detectedBrowser.name === 'Internet Explorer');\n\tdetectedBrowser.isFF = (detectedBrowser.name === 'Firefox');\n\tdetectedBrowser.isOpera = (detectedBrowser.name === 'Opera');\n\tdetectedBrowser.isChrome = (detectedBrowser.name === 'Chrome');\n\tdetectedBrowser.isSafari = (detectedBrowser.name === 'Safari');\n\n\t/**\n\t * Retrieve any results in the map by name because they're returned in an array without names.\n\t * @param {String} key\n\t * @returns {*}\n\t */\n\tmodule.exports.read = function (key) {\n\t\treturn results[key];\n\t};\n\n\tmodule.exports.map = map;\n\tmodule.exports.results = results;\n\tmodule.exports.details = detectedBrowser;\n\n\treturn detectedBrowser;\n};\n\nexports.detect = detect;\nexports.isMobile = isMobile;\nexports.mathMLSupports = mathMLSupport;\nexports.getVersion = getVersion;\nexports.looksLike = looksLike;\nexports.parseIntIfMatch = parseIntIfMatch;\nexports.parseFloatIfMatch = parseFloatIfMatch;\nexports.getAndroidVersion = getAndroidVersion;\nexports.getChromiumVersion = getChromiumVersion;\nexports.getSafariVersion = getSafariVersion;\nexports.getKindleVersion = getKindleVersion;\nexports.getOtherOS = getOtherOS;\nexports.getAppleOS = getAppleOS;\nexports.getMicrosoftOS = getMicrosoftOS;\nexports.getAndroidOS = getAndroidOS;\nexports.getKindleOS = getKindleOS;\nexports.getOsFromUa = getOsFromUa;\n\n\n/***/ }),\n\n/***/ 305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * @desc Environment Detection - Gets Data Pertaining to User's Environment\n * @module Environment\n * @typicalname environment\n * @example\n * ```\n * var environment = require(\"adlibs/lib/detect/environment\");\n * ```\n */\n\n/* jshint strict: false, nonstandard: true, browser: true, moz: true, esnext: true, es5: true */\n\n// ****** BEGIN DETECT ENVIRONMENT CODE ******* //\n\n\n\nvar win = window,\n\tdoc = win.document,\n\tnav = win.navigator,\n\tcan = __webpack_require__(135).can,\n\thas = __webpack_require__(135).has;\n\n/**\n * Return this ad's position within the parent, in the order of the frames around us.\n * @param pos\n * @private\n * @returns {String}\n */\nvar getFramePosition = function (pos) {\n\tif (win.parent.frames[pos] || pos > 100) {\n\t\tif (win.parent.frames[pos] === window) {\n\t\t\treturn '' + pos;\n\t\t} else {\n\t\t\treturn getFramePosition(pos + 1);\n\t\t}\n\t} else {\n\t\treturn '-1';\n\t}\n};\n\n/**\n * Return the ad's depth in iframes.\n * @param myWin {Object} window object\n * @param depth {Number} nest level\n * @private\n * @returns {Number}\n */\nvar getFrameDepth = function (myWin, depth) {\n\tdepth = depth || 0;\n\tmyWin = myWin || window;\n\n\tif (myWin === top || depth > 100) {\n\t\treturn depth;\n\t} else {\n\t\treturn getFrameDepth(myWin.parent, depth + 1);\n\t}\n};\n\nvar versionMatch = /(\\d+.\\d+)/i;\n\n/**\n * Check the web standards compliant plugin interface for plugins by name.\n * @param name\n * @private\n * @returns {String}\n */\nvar checkPlugin = function (name) {\n\t/**\n\t * @type plugin\n\t * @property description\n\t * @property version\n\t * @property name\n\t */\n\tvar plugin = has(name, has('plugins', nav));\n\tvar\tversion;\n\n\tif (typeof plugin === 'object') {\n\t\tif (versionMatch.test(has('version', plugin).toString())) {\n\t\t\tversion = plugin.version;\n\t\t} else if (versionMatch.test(has('description', plugin).toString())) {\n\t\t\tversion = plugin.description;\n\t\t} else if (versionMatch.test(has('name', plugin).toString())) {\n\t\t\tversion = plugin.name;\n\t\t} else {\n\t\t\tversion = '1.0'; // @todo come up with something a little more scientific\n\t\t}\n\n\t\t// This has to come back with an array because it matched the test above in all cases.\n\t\treturn '' + parseFloat(version.match(versionMatch)[1].replace('_', '.'));\n\t}\n\treturn '-1';\n};\n\n/**\n * Check standards compliant and active x interfaces for the flash plugin version.\n * @private\n * @returns {String}\n */\nvar getFlashVersion = function () {\n\tif (can(nav, 'plugins') && !has('ActiveXObject')) { // standards compliant browsers\n\n\t\treturn checkPlugin('Shockwave Flash'); //Flash version\n\n\t} else if (has('ActiveXObject')) { // must be ie, but not the newest ie 11+ releases\n\n\t\treturn (function () {\n\t\t\t\tvar plugin,\n\t\t\t\t\tpluginVersion;\n\n\t\t\t\ttry {\n\t\t\t\t\tplugin = (new has('ActiveXObject'))('ShockwaveFlash.ShockwaveFlash'); // jshint ignore:line\n\t\t\t\t\tpluginVersion = has('GetVariable', plugin)('$version');\n\t\t\t\t\tif (typeof pluginVersion === 'string') {\n\t\t\t\t\t\tpluginVersion.split(' ')[1].split(',');\n\t\t\t\t\t}\n\t\t\t\t\treturn pluginVersion[0] + '.' + pluginVersion[1];\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//Flash Not Installed\n\t\t\t\t\treturn '-1';\n\t\t\t\t}\n\t\t\t}()) || '-1';\n\t}\n\n\treturn '-1';\n};\n\n/**\n * Detect environmental variables and return them wrapped within an object.\n * @returns {Object} returns the environment object\n * @static\n * @example\n * ```js\n * var flash = environment.detect().flash;\n *\n * console.log(flash) // outputs the version of Flash\n * ```\n *\n */\nvar detect = function () {\n\n\tvar environment = {},\n\t\tzoomRatio = 1,\n\t\tdeviceWidth,\n\t\tpixelDensity,\n\t\tresults = [],\n\t\tmap = {};\n\n\tvar save = function (result) {\n\t\tresults.push(result);\n\t\treturn results.length - 1;\n\t};\n\n\tenvironment.parent_ads = has('length', has('frames', win.parent)) || '-1';\n\tmap.PARENT_ADS = save(environment.parent_ads);\n\n\ttry {\n\t\tenvironment.ad_order = getFramePosition(0);\n\t} catch (ex) {\n\t\tenvironment.ad_order = '-1';\n\t}\n\n\ttry {\n\t\tenvironment.ad_depth = getFrameDepth() + '';\n\t} catch (ex) {\n\t\tenvironment.ad_depth = '-1';\n\t}\n\n\tmap.AD_ORDER = save(environment.ad_order);\n\tmap.AD_DEPTH = save(environment.ad_depth);\n\n\tif (can(screen,'deviceXDPI') && can(screen,'logicalXDPI')) { // old ie, so this must go before the IE check\n\t\tzoomRatio = (screen.deviceXDPI / screen.logicalXDPI).toFixed(3);\n\t} else if (has('all')) { // new ie\n\t\tzoomRatio = (doc.documentElement.offsetHeight / win.innerHeight).toFixed(3);\n\t} else if (has('orientation')) { // mobile webkit\n\t\tdeviceWidth = (Math.abs(win.orientation) === 90) ? screen.height : screen.width;\n\t\tzoomRatio = (deviceWidth / win.innerWidth).toFixed(3);\n\t} else if (has('opera')) {\n\t\tzoomRatio = (top.outerWidth / top.innerWidth).toFixed(3);\n\t} // anything else is obnoxiously complex\n\n\tif (!isFinite(zoomRatio)) {\n\t\tzoomRatio = '-1';\n\t} else if (+zoomRatio !== 1) {\n\t\tzoomRatio = (+zoomRatio).toFixed(3);\n\t}\n\n\tpixelDensity = has('devicePixelRatio') || 1;\n\n\tenvironment.zoom_ratio = zoomRatio;\n\tenvironment.pixel_density = pixelDensity.toFixed(3);\n\tmap.ZOOM_RATIO = save(zoomRatio);\n\tmap.PIXEL_DENSITY = save(pixelDensity.toFixed(3));\n\n\t//d.documentElement.clientWidth; // ad width\n\t//d.documentElement.offsetWidth; // ??\n\t//d.documentElement.scrollWidth; // ??\n\t//\n\t//screen.availHeight; // total screen size available to the browser minus the os ui\n\t//screen.height; // total screen size\n\t//\n\t//w.outerWidth; // potentially as close as we can get on safari and chrome to the window width\n\t//w.innerWidth; // ad width including a check for scrollbars\n\t//\n\t//if (d.documentElement.clientWidth === w.innerWidth) { } // there are no horizontal scroll bars in the ad\n\t//if (d.documentElement.clientHeight === w.innerHeight) { } // there are no horizontal scroll bars in the ad\n\t//\n\t//if (isMobile) {\n\t//\tif (screen.width === screen.availWidth) { console.log(''); } // maximized width\n\t//\telse if (screen.width === screen.availHeight) { console.log(''); } // maximized width\n\t//}\n\t//\n\t//if (screen.height === screen.availHeight) { } // maximized width\n\n\t// Estimated screen size given the current screen, which is the only one we can measure\n\n\tenvironment.screen_w = ((has('width', screen) || '0') * pixelDensity).toFixed(0);\n\tenvironment.screen_h = ((has('height', screen) || '0') * pixelDensity).toFixed(0);\n\n\t// Estimated viewport size, but not really that accurate for IE without getting an event from IE 9-10 per the geometry strat\n\t// @todo fix this because it is definitely not correct the way it's implemented\n\tenvironment.avail_w = ((has('availWidth', screen) || '0') * pixelDensity).toFixed(0);\n\tenvironment.avail_h = Math.max((can(doc, 'documentElement') && has('clientWidth', doc.documentElement)) || 0, has('outerWidth') || 0).toFixed(0);\n\n\t//\n\tenvironment.ad_w = Math.max((can(doc, 'documentElement') && has('clientWidth', doc.documentElement)) || 0, has('innerWidth') || 0).toFixed(0);\n\tenvironment.ad_h = Math.max((can(doc, 'documentElement') && has('clientHeight', doc.documentElement)) || 0, has('innerHeight') || 0).toFixed(0);\n\n\tenvironment.flash = getFlashVersion();\n\n\t// Do not track info from the browser. The Mozilla implementation and Microsoft implements vary quite a bit.\n\tif (can(nav, 'doNotTrack')) {\n\t\tenvironment.dnt = (nav.doNotTrack === 'yes' || parseInt(nav.doNotTrack, 10) === 1) ? '1' : '0';\n\t} else if (can(nav, 'msDoNotTrack')) {\n\t\tenvironment.dnt = (nav.msDoNotTrack === 'yes' || parseInt(nav.msDoNotTrack, 10) === 1) ? '1' : '0';\n\t} else {\n\t\tenvironment.dnt = '-1';\n\t}\n\n\t// Rendering mode the browser is using. This represents a chance to check for quirks mode's target IE version\n\tenvironment.doc_mode = has('documentMode', doc) || '0';\n\n\tmap.SCREEN_W = save(environment.screen_w);\n\tmap.SCREEN_H = save(environment.screen_h);\n\tmap.AVAIL_W = save(environment.avail_w);\n\tmap.AVAIL_H = save(environment.avail_h);\n\tmap.AD_W = save(environment.ad_w);\n\tmap.AD_H = save(environment.ad_h);\n\tmap.FLASH = save(environment.flash);\n\tmap.DNT = save(environment.dnt);\n\tmap.DOC_MODE = save(environment.doc_mode);\n\n\t/**\n\t *\n\t * @returns {Number}\n\t */\n\tmodule.exports.getFlashVersion = function () {\n\t\treturn parseFloat(environment.flash); //Flash Version\n\t};\n\n\t/**\n\t *\n\t * @returns {String}\n\t */\n\tmodule.exports.getFrameDepth = function () {\n\t\treturn environment.ad_depth;\n\t};\n\n\n\t/**\n\t *\n\t * @returns {{height: (*|String|Undefined), width: (*|String|Undefined)}}\n\t */\n\tmodule.exports.getAvailableScreenSize = function () {\n\t\treturn {\n\t\t\theight: environment.avail_h,\n\t\t\twidth: environment.avail_w\n\t\t};\n\t};\n\n\t/**\n\t *\n\t * @returns {{height: (*|String|Undefined), width: (*|String|Undefined)}}\n\t */\n\tmodule.exports.getScreenSize = function () {\n\t\treturn {\n\t\t\theight: environment.screen_h,\n\t\t\twidth: environment.screen_w\n\t\t};\n\t};\n\n\t/**\n\t *\n\t * @returns {{height: (*|String|Undefined), width: (*|String|Undefined)}}\n\t */\n\tmodule.exports.getAdDocSize = function () {\n\t\treturn {\n\t\t\theight: environment.ad_h,\n\t\t\twidth: environment.ad_w\n\t\t};\n\t};\n\n\tmodule.exports.details = environment;\n\tmodule.exports.map = map;\n\tmodule.exports.results = results;\n\n\treturn environment;\n};\n\nmodule.exports.detect = detect;\n\n// ****** BEGIN DETECT ENVIRONMENT CODE ******* //\n\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// tmm.6b3463e50dfec7c467ff.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 303);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2586d2a55ab521de3158","/**\n * @module canHas\n */\n\n'use strict';\n\n/**\n * @desc Can this object use this property?\n * @static\n * @param obj\n * @param propertyName\n * @returns {Boolean}\n * @example\n * ```js\n * var can = require('adlibs/lib/canHas').can;\n * ```\n */\nvar can = function (obj, propertyName) {\n\treturn typeof obj[propertyName] !== 'undefined';\n};\n\n/**\n * @desc Does this window have this object in it?\n * @static\n * @param globalObjectName\n * @param [scope] Alternatively, you can call \"run\" with a more sane method signature.\n * @returns {*}\n * @example\n * ```js\n * var has = require('adlibs/lib/canHas').has;\n * ```\n */\nvar has = function (globalObjectName, scope) {\n\tscope = scope || window;\n\treturn can(scope, globalObjectName) ? scope[globalObjectName] : false;\n};\n\n/**\n * @desc Check to see if this object owns the method as opposed to just inheriting it from another object.\n * @static\n * @param obj\n * @param propertyName\n * @returns {Boolean}\n */\nvar own = function (obj, propertyName) {\n\treturn obj.hasOwnProperty(propertyName);\n};\n\n/**\n * @desc Return a runnable method by default.\n * @static\n * @param obj - Scope to use, or method to run when not providing a method as the second param.\n * @param [methodName] The method to check for.\n * @returns {Function}\n */\nvar run = function (obj, methodName) {\n\tvar defaultRunnable = function () { return false;},\n\t\trunnable = methodName ? obj[methodName] : window[obj];\n\n\treturn typeof runnable === 'function' ? runnable : defaultRunnable;\n};\n\n/**\n * @desc For each in, shorthanded because manually writing hasOwnProperty each and every time is not a good use of time.\n * @static\n * @param obj\n * @param callback\n */\nvar forIn = function (obj, callback) {\n\tvar property;\n\tfor (property in obj) {\n\t\tif (obj.hasOwnProperty(property)) {\n\t\t\tif (callback(property, obj[property]) === false) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * @desc A substitute for Object.keys for when browsers don't attempt to convert non-objects to arrays\n * @static\n * @param obj\n * @returns {*}\n */\nvar keys = function (obj){\n\tif (obj) {\n\t\tswitch (typeof obj){\n\t\t\tcase 'object':\n\t\t\t\treturn Object.keys(obj);\n\t\t\tcase 'string':\n\t\t\t\treturn obj.split('');\n\t\t\tdefault:\n\t\t\t\treturn [];\n\t\t}\n\t} else {\n\t\tthrow new TypeError('Cannot convert null or undefined to object');\n\t}\n\n};\n\nmodule.exports = {\n\tcan: can,\n\thas: has,\n\trun: run,\n\town: own,\n\tforIn: forIn,\n\tkeys: keys\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/adlibs/lib/canHas.js\n// module id = 135\n// module chunks = 4","(function () {\n  var browser = require('adlibs/lib/detect/browser').detect();\n  const environment = require('adlibs/lib/detect/environment').detect()\n  function init(tmmId, w, h) {\n    const uid = guid()\n    wrap(uid)\n    genifr(uid, tmmId, w, h)\n  }\n  function guid() {\n    function s4() {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4()\n  }\n  function wrap(uid) {\n    document.write('<div id=\"' + uid + '\"></div>')\n  }\n  function genifr(uid, tmmId, w, h) {\n    let ifr = document.createElement('iframe')\n    ifr.width = w\n    ifr.height = h\n    ifr.scrolling = 'no'\n    ifr.frameBorder = 0\n    ifr.marginHeight = 0\n    ifr.marginWidth = 0\n    const wrapper = document.getElementById(uid)\n    wrapper.appendChild(ifr)\n    const os = browser.os\n    let browserType = 0\n    if (browser.tablet) {\n      browserType = 3\n    } else if (browser.mobile) {\n      browserType = 2\n    } else if (browser.desktop) {\n      browserType = 1\n    } else if (browser.console) {\n      browserType = 4\n    }\n    const link = 'https://adx.tokenmama.io/c?a=' + encodeURIComponent(tmmId) + \n      '&url=' + encodeURIComponent(window.location) +\n      '&referrer=' + encodeURIComponent(document.referrer) + \n      '&sw=' + environment.screen_h + \n      '&sh=' + environment.screen_w + \n      '&adw=' + environment.ad_w + \n      '&adh=' + environment.ad_h + \n      '&os_name=' + os.name + \n      '&os_ver=' + os.version +\n      '&bw_name=' + browser.name +\n      '&bw_ver=' + browser.version +\n      '&bw_type=' + browserType;\n    const htm = '<body><style>*{margin:0;padding:0}.imp{width:1px;height:1px;display:absolute;top:-1px;;left:-1px;}.img{width:100%;height:100%}.logo{position:absolute;bottom:0;right:-4px;z-index:10000;}a img{width:20px;height16px;}a:hover.logo{right:0}</style><a href=\"https://adx.tokenmama.io\" target=\"_blank\" class=\"logo\"><img src=\"https://tmm-adx.tianxi100.com/img/logo/ad.png?v=20180428\"></a><script src=\"https://tmm-adx.tianxi100.com/js/tmm-c.js\" type=\"text/javascript\"></script><script src=\"' + link + '\" type=\"text/javascript\"></script></body>';\n    const ifrdom = ifr.contentWindow.document;\n    ifrdom.open();\n    ifrdom.write(htm);\n    ifrdom.close();\n  }\n  document.ready = init(window.tmm_id, window.tmm_width, window.tmm_height);\n})(window)\n\n\n// WEBPACK FOOTER //\n// ./src/tmm.js","/**\n * @module Browser\n * @desc Browser Detection - Gets Data Pertaining to User's Browser and OS\n * @typicalname browser\n * @example\n * ```\n * var browser = require(\"adlibs/lib/detect/browser\")\n * ```\n */\n\n/**\n * @type Image\n * @property {String} srcset\n */\n\n/**\n * @type performance\n * @property {Object} timing\n * @property {Function} mark\n * @ignore\n */\n\n/**\n * @type document\n * @property {Number} uniqueID\n * @property {String} hidden\n * @property {Object} all\n * @property {String} documentMode\n * @property {String} visibilityState\n * @property {Document} documentElement\n * @property {Function} webkitRequestFullscreen\n * @ignore\n */\n\n/**\n * @type navigator\n * @property {String} platform\n * @property {Object} mozGetUserMedia\n * @property {Boolean} standalone\n * @property {Object} geolocation\n * @property {Object} mozBattery\n * @property {Object} webkitGetUserMedia\n * @property {String} userAgent\n * @property {Function} vibrate\n * @ignore\n */\n\n/**\n * @type browser\n * @property {String} name\n * @property {Boolean} trustworthy\n * @property {Boolean} desktop\n * @property {Boolean} mobile\n * @property {Boolean} tablet\n * @property {Boolean} console\n * @property {String} version\n * @property {UA} ua\n * @property {Feature} feature\n * @property {Engine} engine\n * @property {OS} os\n * @property {Function} setVersionAgainstUaVersion\n */\n\n/**\n * @type ua\n * @property {String} version\n */\n\n/**\n * @type feature\n * @property {String} version\n */\n\n/**\n * @type engine\n * @property {String} name\n * @property {String} version\n */\n\n/**\n * @type os\n * @property {String} name\n * @property {String} version\n */\n\n/**\n * @type style\n * @property {Object} KhtmlUserInput\n * @ignore\n */\n\n/**\n * @type URL\n * @property {Function} createObjectURL\n * @ignore\n */\n\n/**\n * @type history\n * @property {Object} replaceState\n * @ignore\n */\n\n/* This is a separator to keep the JSDOC from going insane */\n\nvar can = require('../canHas').can,\n\thas = require('../canHas').has,\n\tkindleBrowser = /Kindle|Silk|KFTT|KFOT|KFJWA|KFJWI|KFSOWI|KFTHWA|KFTHWI|KFAPWA|KFAPWI/i,\n\tresults = [],\n\tmap = {},\n\tDEFAULT_VERSION = -1,\n\tMAX = {\n\t\tEXCEED: 'ex',\n\t\tOK: 'ok'\n\t},\n\tMAX_BROWSER_VER = 1000,\n\tTYPE = {\n\t\tMICROSOFT: 1,\n\t\tFIREFOX: 2,\n\t\tCHROME: 3,\n\t\tOPERA: 4,\n\t\tSAFARI: 5,\n\t\tANDROID: 6,\n\t\tSAFARI_MOBILE: 7,\n\t\tOPERA_MINI: 8,\n\t\tOPERA_ANDROID: 9,\n\t\tCHROME_MOBILE: 10,\n\t\tMICROSOFT_MOBILE: 11,\n\t\tFIREFOX_MOBILE: 12,\n\t\tBLACKBERRY: 13,\n\t\tKINDLE: 14,\n\t\tWEBVIEW: 15,\n\t\tUNKNOWN: 16,\n\t\tUNKNOWN_MOBILE: 17\n\t};\n\n/**\n * @private\n * @returns {UA}\n * @constructor\n */\nvar Ua = function () {\n\tthis.version = DEFAULT_VERSION;\n};\n\n/**\n * @private\n * @returns {Feature}\n * @constructor\n */\nvar Feature = function () {\n\tthis.version = DEFAULT_VERSION;\n};\n\n/**\n * @private\n * @returns {Engine}\n * @constructor\n */\nvar Engine = function () {\n\tthis.name = '';\n\tthis.version = DEFAULT_VERSION;\n};\n\n/**\n * @private\n * @returns {OS}\n * @constructor\n */\nvar Os = function () {\n\tthis.name = '';\n\tthis.version = DEFAULT_VERSION + '';\n};\n\n/**\n * @private\n * @returns {Browser} Returns the Browser instance\n * @constructor\n */\nvar Browser = function () {\n\tvar self = this; // here for minification purposes\n\tself.name = ''; // verified name\n\tself.trustworthy = true; // does the ua jive with the feature detection\n\tself.desktop = false; // is this a desktop browser\n\tself.mobile = false; // is this a mobile phone browser\n\tself.tablet = false; // is this a mobile tablet browser\n\tself.console = false; // is this a video game or other console browser\n\tself.max = MAX.OK; // by default the ua version matches what is available\n\tself.version = DEFAULT_VERSION; // full version\n\tself.ua = new Ua();\n\tself.feature = new Feature();\n\tself.engine = new Engine();\n\tself.os = new Os();\n};\n\n/**\n * Check for MathML support in browsers to help detect certain browser version numbers where this is the only difference.\n * @param {Document} d\n * @static\n * @returns {Boolean} returns true if browser has mathml support\n */\nvar mathMLSupport = function (d) {\n\n\t'use strict';\n\n\tvar hasMathML = false;\n\n\tif (d.createElementNS) {\n\t\tvar NAMESPACE = 'http://www.w3.org/1998/Math/MathML',\n\t\t\tdiv = d.createElement('div'),\n\t\t\tmfrac;\n\n\t\tdiv.style.position = 'absolute';\n\t\tdiv.style.top = div.style.left = 0;\n\t\tdiv.style.visibility = 'hidden';\n\t\tdiv.style.width = div.style.height = 'auto';\n\t\tdiv.style.fontFamily = 'serif';\n\t\tdiv.style.lineheight = 'normal';\n\n\t\tmfrac = div.appendChild(d.createElementNS(NAMESPACE,'math'))\n\t\t\t.appendChild(d.createElementNS(NAMESPACE,'mfrac'));\n\n\t\tmfrac.appendChild(d.createElementNS(NAMESPACE,'mi'))\n\t\t\t.appendChild(d.createTextNode('xx'));\n\n\t\tmfrac.appendChild(d.createElementNS(NAMESPACE,'mi'))\n\t\t\t.appendChild(d.createTextNode('yy'));\n\n\t\td.body.appendChild(div);\n\n\t\thasMathML = div.offsetHeight > div.offsetWidth;\n\t}\n\n\treturn hasMathML;\n};\n\n/**\n * Performs a simple test to see if we're on mobile or not.\n * @param {Window=} win\n * @static\n * @returns {Boolean} returns true if mobile\n */\nvar isMobile = function (win) {\n\n\twin = win || window;\n\n\ttry {\n\t\twin.document.createEvent('TouchEvent');\n\t\t// Surface tablets have touch events, so we use the Pointer Lock API to detect them\n\t\treturn !can(win.document, 'exitPointerLock') || !can(win.document, 'mozExitPointerLock');\n\t} catch (e) {\n\t\t// Opera Mini and IE10M don't support touch events\n\t\t// execCommand is only on desktop browsers\n\t\treturn !can(win.document, 'execCommand');\n\t}\n};\n\n\n/**\n * Saves a property to the results array and returns its index.\n * @param {*} result\n * @returns {Number}\n */\nvar save = function (result) {\n\tif (typeof result === 'boolean') {\n\t\tresults.push(result === true ? '1' : '0');\n\t} else if (typeof result === 'number') {\n\t\tresults.push(result + '');\n\t} else {\n\t\tresults.push(result);\n\t}\n\treturn results.length - 1;\n};\n\n\n/**\n * Uses the min and max versions of a browser to determine its version.\n * @param {Number} uaVersion\n * @param {Number} minVersion\n * @param {Number=} maxVersion\n * @static\n * @returns {Number} returns version number\n */\nvar getVersion = function (uaVersion, minVersion, maxVersion) {\n\tvar actualVersion = minVersion;\n\tif (uaVersion >= minVersion) {\n\t\tif (!maxVersion || uaVersion <= maxVersion) {\n\t\t\tactualVersion = uaVersion;\n\t\t} else if (maxVersion && uaVersion > maxVersion) {\n\t\t\tactualVersion = maxVersion;\n\t\t}\n\t}\n\treturn actualVersion;\n};\n\n/**\n * Searches for a match between the regex and specified string.\n * @param {RegExp} regex\n * @param {String} ua\n * @static\n * @returns {*|Boolean} returns true if match found\n */\nvar looksLike = function (regex, ua) {\n\t'use strict';\n\treturn regex.test(ua);\n};\n\n/**\n * Parses the result of the RegExp match if it exists.\n * Gracefully falls back to the default version if not.\n * @param {String} ua\n * @param {RegExp} regex\n * @param {Number=} radix\n * @static\n * @returns {Number} returns the regex match or default version\n */\nvar parseIntIfMatch = function (ua, regex, radix) {\n\treturn ua.match(regex) !== null ? parseInt(ua.match(regex)[1], radix || 10) : DEFAULT_VERSION;\n};\n\n/**\n * Parses the floating point value of the RegExp match if found.\n * Gracefully falls back to the default if not.\n * @param {String} ua\n * @param {RegExp} regex\n * @static\n * @returns  returns the regex match or the default version\n */\nvar parseFloatIfMatch = function (ua, regex) {\n\treturn ua.match(regex) !== null ? parseFloat(ua.match(regex)[1]) : DEFAULT_VERSION;\n};\n\n/**\n * Determines the version of Android being used.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number} returns the Android version\n */\nvar getAndroidVersion = function (win, uaVersion) {\n\n\tvar nav = win.navigator,\n\t\tandroidVersion = DEFAULT_VERSION;\n\n\tif (can(nav, 'sendBeacon')) {\n\t\tandroidVersion = getVersion(uaVersion, 5.0, Infinity);\n\t} else if (can(has('performance', win), 'now')) {\n\t\tandroidVersion = getVersion(uaVersion, 4.4);\n\t} else if (has('FileList', win)) {\n\t\tandroidVersion = getVersion(uaVersion, 4.0, 4.3);\n\t} else {\n\t\tandroidVersion = getVersion(uaVersion, 2.1, 4.0);\n\t}\n\n\treturn androidVersion;\n};\n\n/**\n * Determines the version of Chrome being used.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number} returns the Chrome version\n */\nvar getChromiumVersion = function (win, uaVersion) {\n\n\tvar chromiumVersion = DEFAULT_VERSION;\n\t// no session history management - version 4 - api\n\t// geolocation - version 5 - api\n\t// web notifications(prefixed) - version 5 - api\n\t// server-sent DOM events - version 6 - api\n\t// FileReader - version 6 - API\n\t// inline svg - version 7 - html5\n\t// typed arrays - version 7 - api\n\t// classList DOMTokenList - version 8 - API\n\t// defer attribute for external scripts - version 8 - html5\n\t// progress meter - version 8 - html5\n\t// matchMedia - version 9 - API\n\t// webP image format, partial support - version 9 - other\n\t// form validation - version 10 - html5\n\t// getComputedStyle - version 11 - html5\n\t// IndexedDB (prefixed)- version 11 - API\n\t// Details and summary elements - version 12 - html5\n\t// Navigation timing API - version 13 - API\n\t// File API, full support - version 13 - API\n\t// Web sockets, full support - version 14 - API\n\t// Full screen API (prefixed)- version 15 - API\n\t// WebGL, 3D Canvas Graphics - version 18 - API/HTML5 -- unreliable indicator\n\t// WebVVT - version 18 - other\n\t// Blob constructing - version 20 - API\n\t// high resolution time api (prefixed) - version 20 - API\n\t// Color input type - version 20 - HTML5\n\t// getUserMedia API - version 21 - API\n\t// web notifications - version 22 - api\n\t// touch events - version 22 - API/HTML5\n\t// Blob URLs - version 23 - API\n\t// WebRTC Peer Connection (prefixed)- version 23 - API\n\t// webP image format, full support - version 23 - other\n\t// requestAnimationFrame - version 24 - API\n\t// high resolution time api - version 24 - API\n\t// User timing API - version 25 - API\n\t// web speach api(prefixed) - version 25 - api\n\t// shadow dom, prefixed - version 25 - html5\n\t// HTML templates - version 26 - html5\n\t// mutation observer - version 27 - API\n\t// Canvas blend - version 30 - API\n\t// vibration API - version 30 - API\n\t// Promises - version 32 - api\n\t// page visibility - version 33 - api\n\t// Opus codec - version 33 - other\n\t// matches() DOM method - version 34 - API\n\t// srcset attribute - version 34 - api\n\t// shadow dom - version 35 - api/html5\n\t// toolbar/context menu - version 36 - html5\n\t// scoped css - version 36 - html5\n\tif (has('Proxy', win)) {\n\t\tchromiumVersion = getVersion(uaVersion, 49, MAX_BROWSER_VER);\n\t} else if (has('PushManager', win)) {\n\t\tchromiumVersion = getVersion(uaVersion, 44, 48);\n\t} else if (can(win.navigator, 'permissions')) {\n\t\tchromiumVersion = getVersion(uaVersion, 43);\n\t} else if (can(win.navigator, 'sendBeacon')) {\n\t\tchromiumVersion = getVersion(uaVersion, 39, 42);\n\t} else if (can(win.navigator, 'getBattery')) {\n\t\tchromiumVersion = getVersion(uaVersion, 38);\n\t} else if (can(has('crypto', win), 'subtle')) {\n\t\tchromiumVersion = getVersion(uaVersion, 37);\n\t} else if (can(new Image(), 'srcset')) { // Chrome 34+\n\t\tchromiumVersion = getVersion(uaVersion, 34, 36);\n\t} else if (can(win.document, 'visibilityState')) { // Chrome 33+\n\t\tchromiumVersion = getVersion(uaVersion, 33);\n\t} else if (has('Promise', win)) { // Chrome 32+\n\t\tchromiumVersion = getVersion(uaVersion, 32);\n\t} else if (can(win.navigator, 'vibrate')) { // Chrome 30+\n\t\tchromiumVersion = getVersion(uaVersion, 30, 31);\n\t} else if (has('MutationObserver', win)) { // Chrome 27+\n\t\tchromiumVersion = getVersion(uaVersion, 27, 29);\n\t} else if (can(win.document.createElement('template'), 'content')) { // Chrome 26+\n\t\tchromiumVersion = getVersion(uaVersion, 26);\n\t} else if (can(has('performance', win), 'mark')) { // Chrome 25+\n\t\tchromiumVersion = getVersion(uaVersion, 25);\n\t} else if (has('requestAnimationFrame', win)) { // Chrome 24+\n\t\tchromiumVersion = getVersion(uaVersion, 24);\n\t} else if (can(has('URL', win), 'createObjectURL')) { // Chrome 23+\n\t\tchromiumVersion = getVersion(uaVersion, 23);\n\t} else if (has('Notification', win)) { // Chrome 22+\n\t\tchromiumVersion = getVersion(uaVersion, 22);\n\t} else if (can(win.navigator, 'webkitGetUserMedia')) { // Chrome 21+\n\t\tchromiumVersion = getVersion(uaVersion, 21);\n\t} else if (has('Blob', win)) { // Chrome 20+\n\t\tchromiumVersion = getVersion(uaVersion, 20);\n\t} else if (can(win.document, 'webkitRequestFullscreen')) { // Chrome 15+\n\t\tchromiumVersion = getVersion(uaVersion, 15, 19);\n\t} else if (can(has('performance', win), 'timing')) { // Chrome 13+\n\t\tchromiumVersion = getVersion(uaVersion, 13, 14);\n\t} else if (can(win.document.createElement('details'), 'open')) { // Chrome 12+\n\t\tchromiumVersion = getVersion(uaVersion, 12);\n\t} else if (has('webkitIndexedDB', win)) { // Chrome 11+\n\t\tchromiumVersion = getVersion(uaVersion, 11);\n\t} else if (can(win.document.createElement('input'), 'checkValidity')) { // Chrome 10+\n\t\tchromiumVersion = getVersion(uaVersion, 10);\n\t} else if (has('matchMedia', win)) { // Chrome 9+\n\t\tchromiumVersion = getVersion(uaVersion, 9);\n\t} else if (can(win.document.createElement('_'), 'classList')) { // Chrome 8+\n\t\tchromiumVersion = getVersion(uaVersion, 8);\n\t} else if (has('Uint32Array', win)) { // Chrome 7+\n\t\tchromiumVersion = getVersion(uaVersion, 7);\n\t} else if (has('FileReader', win)) { // Chrome 6+\n\t\tchromiumVersion = getVersion(uaVersion, 6);\n\t} else if (has('webkitNotification', win)) { // Chrome 5+\n\t\tchromiumVersion = getVersion(uaVersion, 5);\n\t} else if (can(has('history', win), 'replaceState')) { // Chrome 4+\n\t\tchromiumVersion = getVersion(uaVersion, 4);\n\t} else {\n\t\tchromiumVersion = getVersion(uaVersion, 0, 3);\n\t}\n\treturn chromiumVersion;\n};\n\n/**\n * @private\n * @param {Window} win\n * @param {Number} uaVersion\n * @returns {Number}\n */\nvar getGeckoVersion = function (win, uaVersion) {\n\n\tvar geckoVersion = DEFAULT_VERSION,\n\t\td = win.document,\n\t\tnav = win.navigator;\n\t// Detect all versions of browsers who are using gecko as their rendering engine, prioritizing Firefox\n\n\t// all versions:\n\t// optimal version coverage:\n\t// versions accounted for:\n\t// versions covered by feature testing:\n\tif (has('PushManager', win)) {\n\t\tgeckoVersion = getVersion(uaVersion, 44, MAX_BROWSER_VER);\n\t} else if (has('MessageChannel', win)) {\n\t\tgeckoVersion = getVersion(uaVersion, 41, 43);\n\t} else if (has('fetch', win)) {\n\t\tgeckoVersion = getVersion(uaVersion, 39, 40);\n\t} else if (can(has('performance', win), 'mark')) {\n\t\tgeckoVersion = getVersion(uaVersion, 38);\n\t} else if (can(has('crypto', win), 'subtle')) {\n\t\tgeckoVersion = getVersion(uaVersion, 34, 37);\n\t} else if (can(win.navigator, 'sendBeacon')) {\n\t\tgeckoVersion = getVersion(uaVersion, 31, 33);\n\t} else if (has('SharedWorker', win)) { // FF 29+\n\t\tgeckoVersion = getVersion(uaVersion, 29, 30);\n\t} else if (has('AudioContext', win)) { // FF 25+\n\t\tgeckoVersion = getVersion(uaVersion, 25, 28);\n\t} else if (has('requestAnimationFrame', win)) { // FF 23+\n\t\tgeckoVersion = getVersion(uaVersion, 23, 24);\n\t} else if (has('Notification', win)) { // FF 22+\n\t\tgeckoVersion = getVersion(uaVersion, 22);\n\t} else if (can(d, 'hidden')) { // FF 18+\n\t\tgeckoVersion = getVersion(uaVersion, 18, 21);\n\t} else if (can(nav, 'mozGetUserMedia')) { // FF 17+\n\t\tgeckoVersion = getVersion(uaVersion, 17);\n\t} else if (has('indexedDB', win)) { // FF 16+\n\t\tgeckoVersion = getVersion(uaVersion, 16);\n\t} else if (can(has('performance', win), 'now')) { // FF 15+\n\t\tgeckoVersion = getVersion(uaVersion, 15);\n\t} else if (has('MutationObserver', win)) { // FF 14+\n\t\tgeckoVersion = getVersion(uaVersion, 14);\n\t} else if (has('Blob', win)) { // FF 13+\n\t\tgeckoVersion = getVersion(uaVersion, 13);\n\t} else if (has('WebSocket', win)) { // FF 11+\n\t\tgeckoVersion = getVersion(uaVersion, 11, 12);\n\t} else if (can(nav, 'mozBattery')) { // FF 10+\n\t\tgeckoVersion = getVersion(uaVersion, 10);\n\t} else if (can(has('performance', win), 'timing')) { // FF 7+\n\t\tgeckoVersion = getVersion(uaVersion, 7, 9);\n\t} else if (has('matchMedia', win)) { // FF 6+\n\t\tgeckoVersion = getVersion(uaVersion, 6);\n\t} else if (has('Uint32Array', win)) { // FF 4+\n\t\tgeckoVersion = getVersion(uaVersion, 4, 5);\n\t} else if (has('FileReader', win)) { // FF 3.6\n\t\tgeckoVersion = getVersion(uaVersion, 3.6);\n\t} else if (has('JSON', win)) { // FF 3.5+\n\t\tgeckoVersion = getVersion(uaVersion, 3.5);\n\t} else if (has('postMessage', win)) { // FF 3+\n\t\tgeckoVersion = getVersion(uaVersion, 3);\n\t} else {\n\t\tgeckoVersion = getVersion(uaVersion, 0, 2.9);\n\t}\n\n\treturn geckoVersion;\n};\n\n/**\n * @private\n * @param {Window} win\n * @param {Number} uaVersion\n * @returns {Number}\n */\nvar getTridentVersion = function (win, uaVersion) {\n\n\tvar tridentVersion = DEFAULT_VERSION,\n\t\td = win.document;\n\t// Detect all IE versions possible by feature detection\n\n\t// all versions:\t\t\t\t\t\t1.0, 2.0, 3.0, 4.0, 5.0, 5.2, 5.5, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0\n\t// optimal version coverage:\t\t\t6.0, 7.0, 8.0, 9.0, 10.0, 11.0\n\t// versions accounted for:\t\t\t\t3-11\n\t// versions covered by feature testing: 3.0, 4.0, 5.0, 5.5, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0\n\tif (can(d, 'pointerLockElement')) {\n\t\ttridentVersion = getVersion(uaVersion, 13, MAX_BROWSER_VER);\n\t} else if (has('Proxy', win)) {\n\t\ttridentVersion = getVersion(uaVersion, 12);\n\t} else if (has('MutationObserver', win)) { // IE 11+\n\t\ttridentVersion = getVersion(uaVersion, 11);\n\t} else if (has('atob', win)) { // IE 10+\n\t\ttridentVersion = getVersion(uaVersion, 10);\n\t} else if (has('addEventListener', win)) { // IE 9+\n\t\ttridentVersion = getVersion(uaVersion, 9);\n\t} else if (has('localStorage', win)) { // IE 8+\n\t\ttridentVersion = getVersion(uaVersion, 8);\n\t} else if (can(d, 'all') && has('XMLHttpRequest', win) && !has('XDomainRequest', win) && !has('opera', win)) { // IE 7\n\t\ttridentVersion = getVersion(uaVersion, 7);\n\t} else if (can(d, 'all') && !has('XMLHttpRequest', win)) { // IE 6\n\t\ttridentVersion = getVersion(uaVersion, 6);\n\t} else { // IE 3 - 5.5\n\t\ttridentVersion = DEFAULT_VERSION;\n\t}\n\n\treturn tridentVersion;\n};\n\n /**\n * See https://en.wikipedia.org/wiki/Trident_(layout_engine)\n * @private\n * @param {Number} ver\n * @returns {Number}\n */\nvar getTridentEngineVersion = function (ver) {\n\n\tvar engineVersion = DEFAULT_VERSION;\n\n\tif (ver >= 11) {\n\t\tengineVersion = 7;\n\t} else if (ver === 10) {\n\t\tengineVersion = 6;\n\t} else if (ver === 9) {\n\t\tengineVersion = 5;\n\t} else if (ver === 8) {\n\t\tengineVersion = 4;\n\t} else if (ver <= 7) {\n\t\tengineVersion = 3;\n\t}\n\n\treturn engineVersion;\n};\n\n/**\n * Returns the version of the Safari browser.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number} returns the version of Safari\n */\nvar getSafariVersion = function (win, uaVersion) {\n\n\tvar safariVersion = DEFAULT_VERSION,\n\t\td = win.document,\n\t\tnav = win.navigator;\n\n    if (has('WebAssembly', win)) {\n        safariVersion = getVersion(uaVersion, 11.0, Infinity);\n    } else if (has ('Intl', win)) {\n    \t// 10.10 chosen to account for any possible patch releases in the future\n        safariVersion = getVersion(uaVersion, 10.0, 10.10);\n    } else if (can(has('CSS', win), 'supports')) {\n\t\tsafariVersion = getVersion(uaVersion, 9.0, 9.3);\n\t} else if (has('indexedDB', win)) {\n\t\tsafariVersion = getVersion(uaVersion, 8.0, 8.4);\n\t} else if (has('execCommand', d)) {\n\t\tsafariVersion = getVersion(uaVersion, 7.0, 7.1);\n\t} else if (has('requestAnimationFrame', win)) {\n\t\tsafariVersion = getVersion(uaVersion, 6.0, 6.1);\n\t} else if (has('Uint32Array', win)) {\n\t\t// Safari 6533.18.5 - iOS 4.3.5\n\t\tsafariVersion = getVersion(uaVersion, 5.1);\n\t} else if (can(nav, 'geolocation')) {\n\t\tsafariVersion = getVersion(uaVersion, 5.0);\n\t} else if (can(nav, 'onLine')) {\n\t\tsafariVersion = getVersion(uaVersion, 4.2, 4.3);\n\t} else if (has('JSON', win)) {\n\t\t// Safari 6531.22.7 - iOS 4.0.2\n\t\tsafariVersion = getVersion(uaVersion, 4.0, 4.1);\n\t} else if (has('postMessage', win)) {\n\t\t// webkit 531.21.10 - iOS 3.2.2\n\t\t// webkit 528.16 - iOS 3.1.3\n\t\tsafariVersion = getVersion(uaVersion, 3.2);\n\t} else {\n\t\tsafariVersion = getVersion(uaVersion, 0, 3.1);\n\t}\n\n\treturn safariVersion;\n};\n\n/**\n * Creates a Browser instance with its attributed Kindle values.\n * @param {Window} win\n * @param {Number} uaVersion\n * @static\n * @returns {Number}\n */\nvar getKindleVersion = function (win, uaVersion) {\n\n\tvar kindleVersion = DEFAULT_VERSION,\n\t\td = win.document;\n\n\tif (can(d, 'pointerLockElement')) {\n\t\tkindleVersion = getVersion(uaVersion, 3.0, Infinity);\n\t} else if (has('PerformanceTiming', win)) {\n\t\tkindleVersion = getVersion(uaVersion, 2.0);\n\t} else {\n\t\tkindleVersion = getVersion(uaVersion, 1.0);\n\t}\n\n\treturn kindleVersion;\n};\n\n/**\n * Creates a Browser instance with its attributed OS and device type values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the browser instance\n */\nvar getOtherOS = function (win, ua) {\n\n\tvar otherBrowser = new Browser();\n\n\tif (has('wiiu', win)) {\n\t\totherBrowser.os.name = 'Wii';\n\t\totherBrowser.os.version = 'U';\n\t\totherBrowser.name = 'NetFront';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/Wii/i, ua)) {\n\t\totherBrowser.os.name = 'Wii';\n\t\totherBrowser.name = 'NetFront';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/PlayStation.4/i, ua)) {\n\t\totherBrowser.os.name = 'PlayStation';\n\t\totherBrowser.os.version = '4';\n\t\totherBrowser.name = 'NetFront';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/PlayStation/i, ua)) {\n\t\totherBrowser.os.name = 'PlayStation';\n\t\totherBrowser.os.version = '3';\n\t\totherBrowser.console = true;\n\t} else if (looksLike(/NgetOtherOSokiaN/i, ua)) {\n\t\totherBrowser.os.name = 'Symbian';\n\t\totherBrowser.mobile = true;\n\t} else if (looksLike(/blackberry|RIM/i, ua)) {\n\t\totherBrowser.os.name = 'Blackberry';\n\t\totherBrowser.mobile = true;\n\t} else if (win.navigator && win.navigator.platform === 'X11' || looksLike(/Linux/i, ua)) {\n\t\totherBrowser.os.name = 'Linux';\n\t\totherBrowser.desktop = true;\n\t} else {\n\t\totherBrowser.os.name = 'Unknown';\n\t}\n\treturn otherBrowser;\n};\n\n/**\n * Creates a Browser instance with its attributed Apple values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getAppleOS = function (win, ua) {\n\n\tvar mac = /Mac/i,\n\t\tiOS = /iPhone|iPad|iPod/i,\n\t\tappleBrowser = new Browser(),\n\t\tiOSVersion = DEFAULT_VERSION,\n\t\tmacVersion = DEFAULT_VERSION;\n\n\t// Mozilla/5.0 (iPhone; CPU iPhone OS 7_1 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D167 Safari/9537.53\n\t// webviews will not have Safari in their user-agent string\n\tif ((iOS.test(ua) || iOS.test(win.navigator.platform)) || !looksLike(/Safari|Firefox|Chrome/i, ua)) {\n\t\tif (!looksLike(/Version\\/\\d\\.\\d/i, ua)) {\n\t\t\tappleBrowser.ua.version = '2.0';\n\t\t} else {\n\t\t\tif (looksLike(/.OS.(\\d.\\d+)/i, ua)) {\n\t\t\t\tiOSVersion = (ua.match(/.OS.(\\d.\\d+)/i)[1].replace('_','.'));\n\t\t\t} else if (looksLike(/.Version\\/(\\d\\.\\d+)/i, ua)) {\n\t\t\t\tiOSVersion = (ua.match(/.Version\\/(\\d\\.\\d+)/i)[1]);\n\t\t\t}\n\t\t}\n\t\tappleBrowser.ua.version = appleBrowser.os.version = iOSVersion;\n\t\tappleBrowser.os.name = 'iOS';\n\t\tappleBrowser.tablet = /ipad/i.test(win.navigator.platform);\n\t\tappleBrowser.mobile = /iphone|ipod/i.test(win.navigator.platform);\n\t} else if (mac.test(ua) || mac.test(win.navigator.platform)) {\n\t\tmacVersion = parseIntIfMatch(ua, /Mac.OS.X.10.(\\d+)/i, 10); // this format was introduced at 3.0+\n\t\tif (macVersion > 0) {\n\t\t\tappleBrowser.os.name = 'Mac';\n\t\t\tappleBrowser.os.version = '10.' + macVersion;\n\t\t}\n\t\tappleBrowser.desktop = true;\n\t}\n\n\treturn appleBrowser;\n};\n\n/**\n * Creates a Browser instance with its attributed Windows values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getMicrosoftOS = function (win, ua) {\n\n\tvar microsoftBrowser = new Browser();\n\n\tif (looksLike(/XBox One/i, ua)) {\n\t\tmicrosoftBrowser.os.name = 'Xbox';\n\t\tmicrosoftBrowser.os.version = 'One';\n\t\tmicrosoftBrowser.name = 'Internet Explorer';\n\t\tmicrosoftBrowser.version = '10.0';\n\t\tmicrosoftBrowser.console = true;\n\t} else if (looksLike(/Xbox/i, ua)) {\n\t\tmicrosoftBrowser.os.name = 'Xbox';\n\t\tmicrosoftBrowser.os.version = '360';\n\t\tmicrosoftBrowser.name = 'Internet Explorer';\n\t\tmicrosoftBrowser.version = '7.0';\n\t\tmicrosoftBrowser.console = true;\n\t} else {\n\t\tmicrosoftBrowser.os.name = 'Windows';\n\t\tif (looksLike(/IEMobile/i, ua)) {\n\t\t\tmicrosoftBrowser.mobile = true;\n\t\t\tmicrosoftBrowser.os.name = 'Windows Phone';\n\t\t\tif (looksLike(/Windows.Phone.(?:os)?\\s?(\\d\\d?\\.?\\d?\\d?)/i, ua)) {\n\t\t\t\tmicrosoftBrowser.os.version = ua.match(/Windows.Phone.(?:os)?\\s?(\\d\\d?\\.?\\d?\\d?)/i)[1];\n\t\t\t} else if (looksLike(/WP(\\d\\d?\\.?\\d?\\d?)/i, ua)) {\n\t\t\t\tmicrosoftBrowser.os.version = ua.match(/WP(\\d\\d?\\.?\\d?\\d?)/i)[1];\n\t\t\t}\n\t\t} else if (looksLike(/Windows.NT./i, ua)) {\n\t\t\tmicrosoftBrowser.desktop = true;\n\t\t\tvar pcVersion = parseFloatIfMatch(ua, /Windows.NT.(\\d\\d?\\.?\\d?\\d?)/i); // this format was introduced at 3.0+\n\t\t\t// List pulled from http://msdn.microsoft.com/en-us/library/ms537503(v=vs.85).aspx\n\t\t\tswitch (pcVersion) {\n\t\t\t\tcase 10:\n\t\t\t\t\tmicrosoftBrowser.os.version = '10.0';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6.3:\n\t\t\t\t\tmicrosoftBrowser.os.version = '8.1';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6.2:\n\t\t\t\t\tmicrosoftBrowser.os.version = '8';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6.1:\n\t\t\t\t\tmicrosoftBrowser.os.version = '7';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tmicrosoftBrowser.os.version = 'Vista';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5.2:\n\t\t\t\t\tmicrosoftBrowser.os.version = '2003';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5.1:\n\t\t\t\t\tmicrosoftBrowser.os.version = 'XP';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5.01:\n\t\t\t\t\tmicrosoftBrowser.os.version = '2000 SP1';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tmicrosoftBrowser.os.version = '2000';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tmicrosoftBrowser.os.version = 'NT';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tmicrosoftBrowser.os.version = DEFAULT_VERSION;\n\t\t\t}\n\t\t} else if (looksLike(/Windows.9(\\d)/i, ua)) {\n\t\t\tmicrosoftBrowser.os.version = '9x'; // 95, 98, or Me, which all must have a market share of nothingness by now so we dont care which it is\n\t\t\tmicrosoftBrowser.desktop = true;\n\t\t} else if (looksLike(/Windows.CE/i, ua)) {\n\t\t\tmicrosoftBrowser.os.version = 'CE'; // only matters that its mobile\n\t\t\tmicrosoftBrowser.mobile = true;\n\t\t} else {\n\t\t\tmicrosoftBrowser.os.version = DEFAULT_VERSION + '';\n\t\t\tmicrosoftBrowser.desktop = true;\n\t\t}\n\t}\n\t// special detection for MS Surfaces specifically\n\tif(looksLike(/Touch/i, ua) && !looksLike(/IEMobile/i, ua)) {\n\t\tmicrosoftBrowser.os.name = 'Window RT';\n\t}\n\n\treturn microsoftBrowser;\n};\n\n/**\n * Creates a Browser instance with its attributed Android values.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getAndroidOS = function (win, ua) {\n\n\tvar androidBrowser = new Browser();\n\n\tandroidBrowser.ua.version = parseFloatIfMatch(ua, /Android\\s(\\d+\\.\\d+)/i);\n\tandroidBrowser.os.name = 'Android';\n\tandroidBrowser.mobile = true;\n\n\tif (looksLike(/Chrome/i, ua)) {\n\t\t// modern Android browsers use the chrome engine\n\t\tandroidBrowser.engine.name = 'chrome';\n\t\tandroidBrowser.engine.version = parseIntIfMatch(ua, /Chrome\\/(\\d+)/i, 10);\n\t} else if (looksLike(/AppleWebKit/i, ua)) {\n\t\t// old Android browsers uses webkit\n\t\tandroidBrowser.engine.name = 'webkit';\n\t\tandroidBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/i, 10);\n\t} else {\n\t\tandroidBrowser.engine.name = 'unknown';\n\t}\n\t// for now, we use the same logic for Android's browser and os detection\n\tandroidBrowser.os.version = getAndroidVersion(win, androidBrowser.ua.version) + '';\n\n\treturn androidBrowser;\n};\n\n/**\n * Returns the Kindle's OS.\n * @param {Window} win\n * @param {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getKindleOS = function (win, ua) {\n\n\tvar kindleBrowser = new Browser();\n\n\tif (looksLike(/Silk/i, ua)) {\n\t\tkindleBrowser.engine.name = 'silk';\n\t\tkindleBrowser.engine.version = parseIntIfMatch(ua, /Silk\\/(\\d+)/i, 10);\n\t\t// set the detected version equal to silk by default\n\t\tkindleBrowser.ua.verison = kindleBrowser.engine.version;\n\t} else if (looksLike(/AppleWebKit/i, ua)) {\n\t\tkindleBrowser.engine.name = 'webkit';\n\t\tkindleBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/i, 10);\n\t\t// if the kindle doesn't have silk in the userAgent, something is wonky\n\t\tkindleBrowser.ua.version = 1;\n\t}\n\n\tif (looksLike(/Version/i, ua)) {\n\t\t// some kindles have a Version property in their userAgent\n\t\tkindleBrowser.ua.version = parseFloatIfMatch(ua, /Version\\/(\\d+\\.\\d+)/i);\n\t}\n\n\tkindleBrowser.version = getKindleVersion(win, kindleBrowser.ua.version);\n\tkindleBrowser.tablet = true;\n\n\treturn kindleBrowser;\n};\n\n/**\n * Reads the user agent string to determine OS.\n * @param {Window} win\n * @param  {String} ua\n * @static\n * @returns {Browser} returns the Browser instance\n */\nvar getOsFromUa = function (win, ua) {\n\n\tvar unknownOS = new Browser();\n\n\tif (looksLike(/Win|IEMobile/i, ua)) {\n\t\tunknownOS = getMicrosoftOS(win, ua);\n\t} else if (looksLike(/Mac|iPhone|iPad|iPod/i, ua)) {\n\t\tunknownOS = getAppleOS(win, ua);\n\t} else if (looksLike(/Android/i, ua)) {\n\t\tunknownOS = getAndroidOS(win, ua);\n\t} else if (looksLike(kindleBrowser, ua)) {\n\t\tunknownOS = getKindleOS(win, ua);\n\t} else {\n\t\tunknownOS = getOtherOS(win, ua);\n\t}\n\treturn unknownOS;\n};\n\n/**\n * Returns an object containing browser details (e.g. name, os, version, etc.).\n * @param {Window=} win\n * @param {String=} userAgent\n * @static\n * @returns {Browser} returns the Browser instance\n * @example\n * ```js\n * var os = browser.detect().os.name;\n *\n * console.log(os); // outputs OS name (e.g. Windows, Mac, Android, etc.)\n * ```\n */\nvar detect = function (win, userAgent) {\n\n\tvar detectedBrowser = new Browser(),\n\t\tbrowserType = '',\n\t\tw = win || window,\n\t\td = w.document,\n\t\tua = userAgent || w.navigator.userAgent,\n\t\tnav = w.navigator,\n\t\tstyle = w.document.documentElement.style;\n\n\t// reset the results array\n\tresults = [];\n\n\t// see if this is a mobile browser\n\tdetectedBrowser.mobile = isMobile(w);\n\n\t// run thru mobile detection first if applicable\n\tif (detectedBrowser.mobile) {\n\t\t// MS Surfaces pass the mobile test, so we account for them here\n\t\t// IE Mobile sometimes contain touch in the UA\n\t\tif (looksLike(/Win/i, ua) && looksLike(/Touch/i, ua) && !looksLike(/IEMobile/i, ua)) {\n\t\t\tbrowserType = TYPE.MICROSOFT;\n\t\t// Kindle feature support varies greatly, and they retain low market-share, so we trust the user agent for now\n\t\t} else if (looksLike(kindleBrowser, ua)) {\n\t\t\tbrowserType = TYPE.KINDLE;\n\t\t} else if (can(nav, 'permissions')) {\n\t\t\t// Chrome is the only mobile platform with permissions\n\t\t\tbrowserType = TYPE.CHROME_MOBILE;\n\t\t} else if (has('ondevicelight', w)) {\n\t\t\t// Only FF Mobile has the ambient light API\n\t\t\tbrowserType = TYPE.FIREFOX_MOBILE;\n\t\t} else if (has('setImmediate', w)) {\n\t\t\t// IE is the only mobile with setImmediate\n\t\t\tbrowserType = TYPE.MICROSOFT_MOBILE;\n\t\t} else if (!has('matchMedia', w)) {\n\t\t\t// only Opera Mini lacks matchMedia, thanks for making this easy Opera!\n\t\t\tbrowserType = TYPE.OPERA_MINI;\n\t\t} else if (has('speechSynthesis', w)) {\n\t\t\t// iOS began supporting internationalization api in iOS 10\n\t\t\t// iOS Safari has speech synth support that goes way back to older versions too\n\t\t\tbrowserType = TYPE.SAFARI_MOBILE;\n\t\t} else if (has('isFinite', w) || can(has('connection', nav), 'type')) {\n\t\t\t// Android is the only remaining one with isFinite\n\t\t\t// Very old Android supports nav.connection.type\n\t\t\tif (mathMLSupport(d)) {\n\t\t\t\t// Detect mathML to find webviews reporting themselves as Android\n\t\t\t\tbrowserType = TYPE.WEBVIEW;\n\t\t\t} else {\n\t\t\t\t// Android has never supported mathML as of 4.4.4\n\t\t\t\tbrowserType = TYPE.ANDROID;\n\t\t\t}\n\t\t} else if (!has('Intl', w)) {\n\t\t\t// blackBerry is the only one left without Internationalization\n\t\t\tbrowserType = TYPE.BLACKBERRY;\n\t\t} else if (has('webkitRequestFileSystem', w)) {\n\t\t\t// Opera is the only one remaining with a File System API\n\t\t\tbrowserType = TYPE.OPERA_ANDROID;\n\t\t} else {\n\t\t\tbrowserType = TYPE.UNKNOWN_MOBILE;\n\t\t}\n\t} else if (!has('EventSource', w) && can(nav, 'onLine')) {\n\t\tbrowserType = TYPE.MICROSOFT;\n\t} else if (has('InstallTrigger', w)) {\n\t\tbrowserType = TYPE.FIREFOX;\n\t} else if (has('chrome', w) && !has('opera', w) && !looksLike(/\\sOPR\\/\\d+/i, ua)) {\n\t\tbrowserType = TYPE.CHROME;\n\t} else if (has('opera', w) || looksLike(/\\sOPR\\/\\d+/i, ua)) {\n\t\tbrowserType = TYPE.OPERA;\n\t} else if (!has('webkitRequestFileSystem', w)) {\n\t\tbrowserType = TYPE.SAFARI;\n\t} else {\n\t\tbrowserType = TYPE.UNKNOWN;\n\t}\n\n\t// now that we know the environment, we run feature detection specific to it\n\tif (browserType === TYPE.MICROSOFT) {\n\n\t\tdetectedBrowser = getMicrosoftOS(w, ua);\n\t\tdetectedBrowser.engine.name = 'trident';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Edge\\/(\\d+)/i, 10);\n\n\t\tif (detectedBrowser.ua.version === DEFAULT_VERSION) {\n\t\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /MSIE\\/(\\d+)/i, 10);\n\t\t}\n\n\t\tdetectedBrowser.version = getTridentVersion(w, detectedBrowser.ua.version);\n\t\tdetectedBrowser.engine.version = getTridentEngineVersion(detectedBrowser.version);\n\n\t\tif (detectedBrowser.version >= 12) {\n\t\t\tdetectedBrowser.name = 'Edge';\n\t\t} else {\n\t\t\tdetectedBrowser.name = 'Internet Explorer';\n\t\t}\n\n\t\tif (detectedBrowser.name === 'Edge' && !looksLike(/Edge/i, ua)) {\n\t\t\tdetectedBrowser.trustworthy = false;\n\t\t} else if (detectedBrowser.name === 'Internet Explorer' && (!looksLike(/MSIE/i, ua) && !looksLike(/Trident/i, ua))) {\n\t\t\tdetectedBrowser.trustworthy = false;\n\t\t}\n\n\t} else if (browserType === TYPE.FIREFOX) {\n\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Firefox';\n\t\tdetectedBrowser.engine.name = 'gecko';\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /rv:(\\d+)/i, 10);\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Firefox\\/(\\d+)/i, 10);\n\t\tdetectedBrowser.version = getGeckoVersion(w, detectedBrowser.ua.version);\n\n\t\tif (!looksLike(/Firefox/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.CHROME) {\n\t\t// Detect all chrome versions possible by feature detection\n\n\t\t// all versions:\t\t\t\t\t\t1-38\n\t\t// optimal version coverage:\t\t\t21, 35, 36, 37, 38\n\t\t// versions accounted for:\t\t\t\t4-38\n\t\t// versions covered by feature testing: 4-13, 15, 20-27, 30, 32-34\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.engine.name = has('CSS', w) ? 'blink' : 'webkit'; // should be all of version 27+ on blink\n\t\t// chrome uses a standard ua format and can always supported indexOf\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /Chrome\\/(\\d+)/i, 10);\n\t\tdetectedBrowser.ua.version = detectedBrowser.engine.version;\n\t\tdetectedBrowser.version = getChromiumVersion(w, detectedBrowser.ua.version);\n\n\t\tdetectedBrowser.name = 'Chrome';\n\n\t\tif (!looksLike(/Chrome/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.OPERA) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\n\t\tif (looksLike(/Presto\\/(\\d+\\.\\d+)/i, ua)) {\n\t\t\tdetectedBrowser.engine.version = parseFloatIfMatch(ua, /Presto\\/(\\d+\\.\\d+)/i);\n\t\t} else if (looksLike(/AppleWebKit\\/(\\d+)/i, ua)) {\n\t\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/i, 10);\n\t\t}\n\n\t\tif (looksLike(/Nintendo/i, ua)) {\n\t\t\tdetectedBrowser.engine.name = 'presto';\n\t\t\tdetectedBrowser.version = '9.0';\n\t\t\tdetectedBrowser.console = true;\n\t\t} else {\n\t\t\tif (can(has('opera', w), 'version')) {\n\t\t\t\tdetectedBrowser.feature.version = parseFloat(w.opera.version()); // presto reveals its version via api\n\t\t\t\tdetectedBrowser.version = detectedBrowser.feature.version;\n\t\t\t\tdetectedBrowser.engine.name = 'presto'; // should be all of version 27+ on blink\n\t\t\t} else {\n\t\t\t\tdetectedBrowser.version = getChromiumVersion(w, detectedBrowser.ua.version);\n\t\t\t\tdetectedBrowser.engine.name = 'blink'; // chrome's blink engine would be the version of the engine here\n\t\t\t\tdetectedBrowser.engine.version = detectedBrowser.version; // chrome's blink engine would be the version of the engine here\n\n\t\t\t\tif (looksLike(/OPR\\/\\d+.\\d+/i, ua)) {\n\t\t\t\t\tdetectedBrowser.ua.version = parseFloatIfMatch(ua, /OPR\\/\\d+.\\d+/i);\n\t\t\t\t}\n\n\t\t\t\tif (detectedBrowser.version >= 28) { // chrome version is 28+ then it's on chrome's release cycle.\n\t\t\t\t\tdetectedBrowser.version = getVersion(detectedBrowser.ua.version, detectedBrowser.version - 13, MAX_BROWSER_VER); // Guess the version based on chrome's version.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdetectedBrowser.name = 'Opera';\n\n\t\tif (!looksLike(/Opera/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.SAFARI) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/, 10);\n\t\t// all versions:\t\t\t\t\t\t0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 2.0, 3.0, 3.1, 3.2, 4.0, 4.1, 5.0, 5.1, 6.0, 6.1, 7.0, 8.0\n\t\t// optimal version coverage:\t\t\t6.1, 7.0, 8.0\n\t\t// versions accounted for:\t\t\t\t*\n\t\t// versions covered by feature testing: 3.2, 4.0, 4.2, 5.0, 6.0, 7.0\n\t\tdetectedBrowser.desktop = true;\n\n\t\tif (looksLike(/Version\\/(\\d\\.\\d)/i, ua)) {\n\t\t\tdetectedBrowser.ua.version = parseFloatIfMatch(ua, /Version\\/(\\d\\.\\d)/i); // this format was introduced at 3.0+browser.ua.version = parseFloat(ua.match()[1]);\n\t\t}\n\n\t\tif (looksLike(/Mac.OS.X.10.(\\d+)/i, ua)) {\n\t\t\tvar macVersion = parseIntIfMatch(ua, /Mac.OS.X.10.(\\d+)/i, 10); // this format was introduced at 3.0+\n\t\t\tif (macVersion > 0) {\n\t\t\t\tdetectedBrowser.os.name = 'Mac';\n\t\t\t\tdetectedBrowser.os.version = '10.' + macVersion;\n\t\t\t} else {\n\t\t\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\t\t}\n\t\t} else {\n\t\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\t}\n\n\t\tdetectedBrowser.name = 'Safari';\n\t\tdetectedBrowser.engine.name = 'webkit';\n\t\tdetectedBrowser.version = getSafariVersion(w, detectedBrowser.ua.version);\n\n\t\tif (!looksLike(/Safari/i, ua)) {\n\t\t\tdetectedBrowser.trustworthy = false;\n\t\t}\n\n\t} else if (browserType === TYPE.ANDROID) {\n\n\t\tdetectedBrowser = getAndroidOS(w, ua);\n\t\tdetectedBrowser.name = 'Android';\n\t\tdetectedBrowser.version = getAndroidVersion(w, detectedBrowser.ua.version);\n\n\t\tif (!looksLike(/Android/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.SAFARI_MOBILE) {\n\n\t\tdetectedBrowser = getAppleOS(w, ua);\n\t\t// Feature detect Mobile Safari so we can tell if it's the real deal or an imposter\n\t\tdetectedBrowser.name = 'Mobile Safari';\n\t\tdetectedBrowser.engine.name  = 'webkit';\n\t\tdetectedBrowser.engine.version = parseIntIfMatch(ua, /AppleWebKit\\/(\\d+)/, 10);\n\t\tif (looksLike(/Version\\/(\\d\\.\\d)/i, ua)) {\n\t\t\tdetectedBrowser.ua.version = parseFloatIfMatch(ua, /Version\\/(\\d\\.\\d)/i); // this format was introduced at 3.0+browser.ua.version = parseFloat(ua.match()[1]);\n\t\t}\n\t\t// all versions:\t\t\t\t\t\t1.0, 1.1, 2.0, 2.1, 2.2, 3.0, 3.1, 3.2, 4.0, 4.1, 4.2, 4.3, 5.0, 5.1, 6.0, 6.1, 7.0, 7.1, 8.0\n\t\t// optimal version coverage:\t\t\t6.x, 7.x, 8.x\n\t\t// versions accounted for:\t\t\t\t*\n\t\t// versions covered by feature testing:\t3.2, 4.0, 4.2, 5.0, 6.0, 7.0, 8.0\n\t\tdetectedBrowser.version = getSafariVersion(w, detectedBrowser.ua.version);\n\t\tdetectedBrowser.os.version = detectedBrowser.version;\n\n\t\tif (!looksLike(/Safari/i, ua) || !looksLike(/iPhone|iPad/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.CHROME_MOBILE) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Chrome Android';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Chrome\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Chrome/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.FIREFOX_MOBILE) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Firefox Android';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Firefox\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Firefox/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.MICROSOFT_MOBILE) {\n\t\tdetectedBrowser = getMicrosoftOS(w, ua);\n\t\tdetectedBrowser.name = 'Mobile IE';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /IEMobile\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/MSIE/i, ua) || !looksLike(/IEMobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.WEBVIEW) {\n\t\tdetectedBrowser = getAppleOS(w, ua);\n\t\tdetectedBrowser.name = 'iOS Webview';\n\t\tif (!looksLike(/iPhone|iPad|iPod/i, ua) || !looksLike(/Mobile/i, ua)) { detectedBrowser.trustworthy = false; }\n\t} else if (browserType === TYPE.OPERA_MINI) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Opera Mini';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Opera Mini\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Opera/i, ua) || !looksLike(/Mini/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.OPERA_ANDROID) {\n\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\tdetectedBrowser.name = 'Opera Android';\n\t\tdetectedBrowser.ua.version = parseIntIfMatch(ua, /Opera\\/(\\d+)/i, 10); // we trust the UA for now\n\t\tdetectedBrowser.version = detectedBrowser.ua.version;\n\t\tif (!looksLike(/Opera/i, ua) || !looksLike(/Android/i, ua)) { detectedBrowser.trustworthy = false; }\n\n\t} else if (browserType === TYPE.KINDLE) {\n\t\tdetectedBrowser = getKindleOS(w, ua);\n\t\tdetectedBrowser.name = 'Kindle';\n\t\t// we rely on the user agent for all kindle detection, so we can't detect untrustworthiness\n\t} else if (browserType === TYPE.UNKNOWN || browserType === TYPE.UNKNOWN_MOBILE) {\n\t\tif (can(style, 'KhtmlUserInput')) {\n\t\t\tdetectedBrowser.name = 'Linux Browser';\n\t\t\tdetectedBrowser.engine.name = 'khtml';\n\t\t\tdetectedBrowser.os.name = 'Linux';\n\t\t\tdetectedBrowser.desktop = true;\n\t\t} else {\n\t\t\tdetectedBrowser = getOsFromUa(w, ua);\n\t\t\tdetectedBrowser.name = 'Unknown';\n\t\t\tdetectedBrowser.engine.name = 'Unknown';\n\t\t\tdetectedBrowser.os.name = 'Unknown';\n\t\t}\n\t}\n\n\t// if the user agent version is beyond \n\tif (detectedBrowser.ua.version > detectedBrowser.version) {\n\t\tdetectedBrowser.max = MAX.EXCEED;\n\t}\n\n\tmap.TRUSTWORTHY = save(detectedBrowser.trustworthy);\n\tmap.BROWSER_NAME = save(detectedBrowser.name);\n\tmap.BROWSER_VERSION = save(detectedBrowser.version);\n\tmap.ENGINE_NAME = save(detectedBrowser.engine.name);\n\tmap.ENGINE_VERSION = save(detectedBrowser.engine.version);\n\tmap.OS_NAME = save(detectedBrowser.os.name);\n\tmap.OS_VERSION = save(detectedBrowser.os.version);\n\tmap.DESKTOP = save(detectedBrowser.desktop);\n\tmap.MOBILE = save(detectedBrowser.mobile);\n\tmap.TABLET = save(detectedBrowser.tablet);\n\tmap.CONSOLE = save(detectedBrowser.console);\n\tmap.MAX = save(detectedBrowser.max);\n\n\tdetectedBrowser.isIE = (detectedBrowser.name === 'Internet Explorer');\n\tdetectedBrowser.isFF = (detectedBrowser.name === 'Firefox');\n\tdetectedBrowser.isOpera = (detectedBrowser.name === 'Opera');\n\tdetectedBrowser.isChrome = (detectedBrowser.name === 'Chrome');\n\tdetectedBrowser.isSafari = (detectedBrowser.name === 'Safari');\n\n\t/**\n\t * Retrieve any results in the map by name because they're returned in an array without names.\n\t * @param {String} key\n\t * @returns {*}\n\t */\n\tmodule.exports.read = function (key) {\n\t\treturn results[key];\n\t};\n\n\tmodule.exports.map = map;\n\tmodule.exports.results = results;\n\tmodule.exports.details = detectedBrowser;\n\n\treturn detectedBrowser;\n};\n\nexports.detect = detect;\nexports.isMobile = isMobile;\nexports.mathMLSupports = mathMLSupport;\nexports.getVersion = getVersion;\nexports.looksLike = looksLike;\nexports.parseIntIfMatch = parseIntIfMatch;\nexports.parseFloatIfMatch = parseFloatIfMatch;\nexports.getAndroidVersion = getAndroidVersion;\nexports.getChromiumVersion = getChromiumVersion;\nexports.getSafariVersion = getSafariVersion;\nexports.getKindleVersion = getKindleVersion;\nexports.getOtherOS = getOtherOS;\nexports.getAppleOS = getAppleOS;\nexports.getMicrosoftOS = getMicrosoftOS;\nexports.getAndroidOS = getAndroidOS;\nexports.getKindleOS = getKindleOS;\nexports.getOsFromUa = getOsFromUa;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/adlibs/lib/detect/browser.js\n// module id = 304\n// module chunks = 4","/**\n * @desc Environment Detection - Gets Data Pertaining to User's Environment\n * @module Environment\n * @typicalname environment\n * @example\n * ```\n * var environment = require(\"adlibs/lib/detect/environment\");\n * ```\n */\n\n/* jshint strict: false, nonstandard: true, browser: true, moz: true, esnext: true, es5: true */\n\n// ****** BEGIN DETECT ENVIRONMENT CODE ******* //\n\n'use strict';\n\nvar win = window,\n\tdoc = win.document,\n\tnav = win.navigator,\n\tcan = require('../canHas').can,\n\thas = require('../canHas').has;\n\n/**\n * Return this ad's position within the parent, in the order of the frames around us.\n * @param pos\n * @private\n * @returns {String}\n */\nvar getFramePosition = function (pos) {\n\tif (win.parent.frames[pos] || pos > 100) {\n\t\tif (win.parent.frames[pos] === window) {\n\t\t\treturn '' + pos;\n\t\t} else {\n\t\t\treturn getFramePosition(pos + 1);\n\t\t}\n\t} else {\n\t\treturn '-1';\n\t}\n};\n\n/**\n * Return the ad's depth in iframes.\n * @param myWin {Object} window object\n * @param depth {Number} nest level\n * @private\n * @returns {Number}\n */\nvar getFrameDepth = function (myWin, depth) {\n\tdepth = depth || 0;\n\tmyWin = myWin || window;\n\n\tif (myWin === top || depth > 100) {\n\t\treturn depth;\n\t} else {\n\t\treturn getFrameDepth(myWin.parent, depth + 1);\n\t}\n};\n\nvar versionMatch = /(\\d+.\\d+)/i;\n\n/**\n * Check the web standards compliant plugin interface for plugins by name.\n * @param name\n * @private\n * @returns {String}\n */\nvar checkPlugin = function (name) {\n\t/**\n\t * @type plugin\n\t * @property description\n\t * @property version\n\t * @property name\n\t */\n\tvar plugin = has(name, has('plugins', nav));\n\tvar\tversion;\n\n\tif (typeof plugin === 'object') {\n\t\tif (versionMatch.test(has('version', plugin).toString())) {\n\t\t\tversion = plugin.version;\n\t\t} else if (versionMatch.test(has('description', plugin).toString())) {\n\t\t\tversion = plugin.description;\n\t\t} else if (versionMatch.test(has('name', plugin).toString())) {\n\t\t\tversion = plugin.name;\n\t\t} else {\n\t\t\tversion = '1.0'; // @todo come up with something a little more scientific\n\t\t}\n\n\t\t// This has to come back with an array because it matched the test above in all cases.\n\t\treturn '' + parseFloat(version.match(versionMatch)[1].replace('_', '.'));\n\t}\n\treturn '-1';\n};\n\n/**\n * Check standards compliant and active x interfaces for the flash plugin version.\n * @private\n * @returns {String}\n */\nvar getFlashVersion = function () {\n\tif (can(nav, 'plugins') && !has('ActiveXObject')) { // standards compliant browsers\n\n\t\treturn checkPlugin('Shockwave Flash'); //Flash version\n\n\t} else if (has('ActiveXObject')) { // must be ie, but not the newest ie 11+ releases\n\n\t\treturn (function () {\n\t\t\t\tvar plugin,\n\t\t\t\t\tpluginVersion;\n\n\t\t\t\ttry {\n\t\t\t\t\tplugin = (new has('ActiveXObject'))('ShockwaveFlash.ShockwaveFlash'); // jshint ignore:line\n\t\t\t\t\tpluginVersion = has('GetVariable', plugin)('$version');\n\t\t\t\t\tif (typeof pluginVersion === 'string') {\n\t\t\t\t\t\tpluginVersion.split(' ')[1].split(',');\n\t\t\t\t\t}\n\t\t\t\t\treturn pluginVersion[0] + '.' + pluginVersion[1];\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//Flash Not Installed\n\t\t\t\t\treturn '-1';\n\t\t\t\t}\n\t\t\t}()) || '-1';\n\t}\n\n\treturn '-1';\n};\n\n/**\n * Detect environmental variables and return them wrapped within an object.\n * @returns {Object} returns the environment object\n * @static\n * @example\n * ```js\n * var flash = environment.detect().flash;\n *\n * console.log(flash) // outputs the version of Flash\n * ```\n *\n */\nvar detect = function () {\n\n\tvar environment = {},\n\t\tzoomRatio = 1,\n\t\tdeviceWidth,\n\t\tpixelDensity,\n\t\tresults = [],\n\t\tmap = {};\n\n\tvar save = function (result) {\n\t\tresults.push(result);\n\t\treturn results.length - 1;\n\t};\n\n\tenvironment.parent_ads = has('length', has('frames', win.parent)) || '-1';\n\tmap.PARENT_ADS = save(environment.parent_ads);\n\n\ttry {\n\t\tenvironment.ad_order = getFramePosition(0);\n\t} catch (ex) {\n\t\tenvironment.ad_order = '-1';\n\t}\n\n\ttry {\n\t\tenvironment.ad_depth = getFrameDepth() + '';\n\t} catch (ex) {\n\t\tenvironment.ad_depth = '-1';\n\t}\n\n\tmap.AD_ORDER = save(environment.ad_order);\n\tmap.AD_DEPTH = save(environment.ad_depth);\n\n\tif (can(screen,'deviceXDPI') && can(screen,'logicalXDPI')) { // old ie, so this must go before the IE check\n\t\tzoomRatio = (screen.deviceXDPI / screen.logicalXDPI).toFixed(3);\n\t} else if (has('all')) { // new ie\n\t\tzoomRatio = (doc.documentElement.offsetHeight / win.innerHeight).toFixed(3);\n\t} else if (has('orientation')) { // mobile webkit\n\t\tdeviceWidth = (Math.abs(win.orientation) === 90) ? screen.height : screen.width;\n\t\tzoomRatio = (deviceWidth / win.innerWidth).toFixed(3);\n\t} else if (has('opera')) {\n\t\tzoomRatio = (top.outerWidth / top.innerWidth).toFixed(3);\n\t} // anything else is obnoxiously complex\n\n\tif (!isFinite(zoomRatio)) {\n\t\tzoomRatio = '-1';\n\t} else if (+zoomRatio !== 1) {\n\t\tzoomRatio = (+zoomRatio).toFixed(3);\n\t}\n\n\tpixelDensity = has('devicePixelRatio') || 1;\n\n\tenvironment.zoom_ratio = zoomRatio;\n\tenvironment.pixel_density = pixelDensity.toFixed(3);\n\tmap.ZOOM_RATIO = save(zoomRatio);\n\tmap.PIXEL_DENSITY = save(pixelDensity.toFixed(3));\n\n\t//d.documentElement.clientWidth; // ad width\n\t//d.documentElement.offsetWidth; // ??\n\t//d.documentElement.scrollWidth; // ??\n\t//\n\t//screen.availHeight; // total screen size available to the browser minus the os ui\n\t//screen.height; // total screen size\n\t//\n\t//w.outerWidth; // potentially as close as we can get on safari and chrome to the window width\n\t//w.innerWidth; // ad width including a check for scrollbars\n\t//\n\t//if (d.documentElement.clientWidth === w.innerWidth) { } // there are no horizontal scroll bars in the ad\n\t//if (d.documentElement.clientHeight === w.innerHeight) { } // there are no horizontal scroll bars in the ad\n\t//\n\t//if (isMobile) {\n\t//\tif (screen.width === screen.availWidth) { console.log(''); } // maximized width\n\t//\telse if (screen.width === screen.availHeight) { console.log(''); } // maximized width\n\t//}\n\t//\n\t//if (screen.height === screen.availHeight) { } // maximized width\n\n\t// Estimated screen size given the current screen, which is the only one we can measure\n\n\tenvironment.screen_w = ((has('width', screen) || '0') * pixelDensity).toFixed(0);\n\tenvironment.screen_h = ((has('height', screen) || '0') * pixelDensity).toFixed(0);\n\n\t// Estimated viewport size, but not really that accurate for IE without getting an event from IE 9-10 per the geometry strat\n\t// @todo fix this because it is definitely not correct the way it's implemented\n\tenvironment.avail_w = ((has('availWidth', screen) || '0') * pixelDensity).toFixed(0);\n\tenvironment.avail_h = Math.max((can(doc, 'documentElement') && has('clientWidth', doc.documentElement)) || 0, has('outerWidth') || 0).toFixed(0);\n\n\t//\n\tenvironment.ad_w = Math.max((can(doc, 'documentElement') && has('clientWidth', doc.documentElement)) || 0, has('innerWidth') || 0).toFixed(0);\n\tenvironment.ad_h = Math.max((can(doc, 'documentElement') && has('clientHeight', doc.documentElement)) || 0, has('innerHeight') || 0).toFixed(0);\n\n\tenvironment.flash = getFlashVersion();\n\n\t// Do not track info from the browser. The Mozilla implementation and Microsoft implements vary quite a bit.\n\tif (can(nav, 'doNotTrack')) {\n\t\tenvironment.dnt = (nav.doNotTrack === 'yes' || parseInt(nav.doNotTrack, 10) === 1) ? '1' : '0';\n\t} else if (can(nav, 'msDoNotTrack')) {\n\t\tenvironment.dnt = (nav.msDoNotTrack === 'yes' || parseInt(nav.msDoNotTrack, 10) === 1) ? '1' : '0';\n\t} else {\n\t\tenvironment.dnt = '-1';\n\t}\n\n\t// Rendering mode the browser is using. This represents a chance to check for quirks mode's target IE version\n\tenvironment.doc_mode = has('documentMode', doc) || '0';\n\n\tmap.SCREEN_W = save(environment.screen_w);\n\tmap.SCREEN_H = save(environment.screen_h);\n\tmap.AVAIL_W = save(environment.avail_w);\n\tmap.AVAIL_H = save(environment.avail_h);\n\tmap.AD_W = save(environment.ad_w);\n\tmap.AD_H = save(environment.ad_h);\n\tmap.FLASH = save(environment.flash);\n\tmap.DNT = save(environment.dnt);\n\tmap.DOC_MODE = save(environment.doc_mode);\n\n\t/**\n\t *\n\t * @returns {Number}\n\t */\n\tmodule.exports.getFlashVersion = function () {\n\t\treturn parseFloat(environment.flash); //Flash Version\n\t};\n\n\t/**\n\t *\n\t * @returns {String}\n\t */\n\tmodule.exports.getFrameDepth = function () {\n\t\treturn environment.ad_depth;\n\t};\n\n\n\t/**\n\t *\n\t * @returns {{height: (*|String|Undefined), width: (*|String|Undefined)}}\n\t */\n\tmodule.exports.getAvailableScreenSize = function () {\n\t\treturn {\n\t\t\theight: environment.avail_h,\n\t\t\twidth: environment.avail_w\n\t\t};\n\t};\n\n\t/**\n\t *\n\t * @returns {{height: (*|String|Undefined), width: (*|String|Undefined)}}\n\t */\n\tmodule.exports.getScreenSize = function () {\n\t\treturn {\n\t\t\theight: environment.screen_h,\n\t\t\twidth: environment.screen_w\n\t\t};\n\t};\n\n\t/**\n\t *\n\t * @returns {{height: (*|String|Undefined), width: (*|String|Undefined)}}\n\t */\n\tmodule.exports.getAdDocSize = function () {\n\t\treturn {\n\t\t\theight: environment.ad_h,\n\t\t\twidth: environment.ad_w\n\t\t};\n\t};\n\n\tmodule.exports.details = environment;\n\tmodule.exports.map = map;\n\tmodule.exports.results = results;\n\n\treturn environment;\n};\n\nmodule.exports.detect = detect;\n\n// ****** BEGIN DETECT ENVIRONMENT CODE ******* //\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/adlibs/lib/detect/environment.js\n// module id = 305\n// module chunks = 4"],"sourceRoot":""}